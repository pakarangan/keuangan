{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":31,"index":46}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"use-latest-callback","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":47},"end":{"line":4,"column":52,"index":99}}],"key":"2ER/r3Agt+5SFwaFR8HXg24Rpu4=","exportNames":["*"],"imports":1}},{"name":"./deepFreeze.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":100},"end":{"line":5,"column":45,"index":145}}],"key":"rNxrvQaXjK4/vUvPksJpbMJ5u+4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useSyncState = useSyncState;\n  var _react = require(_dependencyMap[0], \"react\");\n  var React = _interopNamespace(_react);\n  var _useLatestCallback = require(_dependencyMap[1], \"use-latest-callback\");\n  var useLatestCallback = _interopDefault(_useLatestCallback);\n  var _deepFreezeJs = require(_dependencyMap[2], \"./deepFreeze.js\");\n  var createStore = function createStore(getInitialState) {\n    var listeners = [];\n    var initialized = false;\n    var state;\n    var getState = function getState() {\n      if (initialized) {\n        return state;\n      }\n      initialized = true;\n      state = (0, _deepFreezeJs.deepFreeze)(getInitialState());\n      return state;\n    };\n    var isBatching = false;\n    var didUpdate = false;\n    var setState = function setState(newState) {\n      state = (0, _deepFreezeJs.deepFreeze)(newState);\n      didUpdate = true;\n      if (!isBatching) {\n        listeners.forEach(function (listener) {\n          return listener();\n        });\n      }\n    };\n    var subscribe = function subscribe(callback) {\n      listeners.push(callback);\n      return function () {\n        var index = listeners.indexOf(callback);\n        if (index > -1) {\n          listeners.splice(index, 1);\n        }\n      };\n    };\n    var batchUpdates = function batchUpdates(callback) {\n      isBatching = true;\n      callback();\n      isBatching = false;\n      if (didUpdate) {\n        didUpdate = false;\n        listeners.forEach(function (listener) {\n          return listener();\n        });\n      }\n    };\n    return {\n      getState: getState,\n      setState: setState,\n      batchUpdates: batchUpdates,\n      subscribe: subscribe\n    };\n  };\n  function useSyncState(getInitialState) {\n    var store = React.useRef(createStore(getInitialState)).current;\n    var state = React.useSyncExternalStore(store.subscribe, store.getState, store.getState);\n    React.useDebugValue(state);\n    var pendingUpdatesRef = React.useRef([]);\n    var scheduleUpdate = (0, useLatestCallback.default)(function (callback) {\n      pendingUpdatesRef.current.push(callback);\n    });\n    var flushUpdates = (0, useLatestCallback.default)(function () {\n      var pendingUpdates = pendingUpdatesRef.current;\n      pendingUpdatesRef.current = [];\n      if (pendingUpdates.length !== 0) {\n        store.batchUpdates(function () {\n          // Flush all the pending updates\n          for (var update of pendingUpdates) {\n            update();\n          }\n        });\n      }\n    });\n    return {\n      state: state,\n      getState: store.getState,\n      setState: store.setState,\n      scheduleUpdate: scheduleUpdate,\n      flushUpdates: flushUpdates\n    };\n  }\n});","lineCount":111,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13],[7,11,1,13,"_interopNamespace"],[7,29,1,13,"e"],[7,30,1,13],[8,4,1,13],[8,8,1,13,"e"],[8,9,1,13],[8,13,1,13,"e"],[8,14,1,13],[8,15,1,13,"__esModule"],[8,25,1,13],[8,34,1,13,"e"],[8,35,1,13],[9,4,1,13],[9,8,1,13,"n"],[9,9,1,13],[10,4,1,13],[10,8,1,13,"e"],[10,9,1,13],[10,11,1,13,"Object"],[10,17,1,13],[10,18,1,13,"keys"],[10,22,1,13],[10,23,1,13,"e"],[10,24,1,13],[10,26,1,13,"forEach"],[10,33,1,13],[10,44,1,13,"k"],[10,45,1,13],[11,6,1,13],[11,10,1,13,"d"],[11,11,1,13],[11,14,1,13,"Object"],[11,20,1,13],[11,21,1,13,"getOwnPropertyDescriptor"],[11,45,1,13],[11,46,1,13,"e"],[11,47,1,13],[11,49,1,13,"k"],[11,50,1,13],[12,6,1,13,"Object"],[12,12,1,13],[12,13,1,13,"defineProperty"],[12,27,1,13],[12,28,1,13,"n"],[12,29,1,13],[12,31,1,13,"k"],[12,32,1,13],[12,34,1,13,"d"],[12,35,1,13],[12,36,1,13,"get"],[12,39,1,13],[12,42,1,13,"d"],[12,43,1,13],[13,8,1,13,"enumerable"],[13,18,1,13],[14,8,1,13,"get"],[14,11,1,13],[14,22,1,13,"get"],[14,23,1,13],[15,10,1,13],[15,17,1,13,"e"],[15,18,1,13],[15,19,1,13,"k"],[15,20,1,13],[16,8,1,13],[17,6,1,13],[18,4,1,13],[19,4,1,13,"n"],[19,5,1,13],[19,6,1,13,"default"],[19,13,1,13],[19,16,1,13,"e"],[19,17,1,13],[20,4,1,13],[20,11,1,13,"n"],[20,12,1,13],[21,2,1,13],[22,2,1,13],[22,11,1,13,"_interopDefault"],[22,27,1,13,"e"],[22,28,1,13],[23,4,1,13],[23,11,1,13,"e"],[23,12,1,13],[23,16,1,13,"e"],[23,17,1,13],[23,18,1,13,"__esModule"],[23,28,1,13],[23,31,1,13,"e"],[23,32,1,13],[24,6,1,13,"default"],[24,13,1,13],[24,15,1,13,"e"],[25,4,1,13],[26,2,1,13],[27,2,52,0,"exports"],[27,9,52,0],[27,10,52,0,"useSyncState"],[27,22,52,0],[27,25,52,0,"useSyncState"],[27,37,52,0],[28,2,3,0],[28,6,3,0,"_react"],[28,12,3,0],[28,15,3,0,"require"],[28,22,3,0],[28,23,3,0,"_dependencyMap"],[28,37,3,0],[29,2,3,0],[29,6,3,0,"React"],[29,11,3,0],[29,14,3,0,"_interopNamespace"],[29,31,3,0],[29,32,3,0,"_react"],[29,38,3,0],[30,2,4,0],[30,6,4,0,"_useLatestCallback"],[30,24,4,0],[30,27,4,0,"require"],[30,34,4,0],[30,35,4,0,"_dependencyMap"],[30,49,4,0],[31,2,4,0],[31,6,4,0,"useLatestCallback"],[31,23,4,0],[31,26,4,0,"_interopDefault"],[31,41,4,0],[31,42,4,0,"_useLatestCallback"],[31,60,4,0],[32,2,5,0],[32,6,5,0,"_deepFreezeJs"],[32,19,5,0],[32,22,5,0,"require"],[32,29,5,0],[32,30,5,0,"_dependencyMap"],[32,44,5,0],[33,2,6,0],[33,6,6,6,"createStore"],[33,17,6,17],[33,20,6,20],[33,29,6,6,"createStore"],[33,40,6,17,"createStore"],[33,41,6,20,"getInitialState"],[33,56,6,35],[33,58,6,39],[34,4,7,2],[34,8,7,8,"listeners"],[34,17,7,17],[34,20,7,20],[34,22,7,22],[35,4,8,2],[35,8,8,6,"initialized"],[35,19,8,17],[35,22,8,20],[35,27,8,25],[36,4,9,2],[36,8,9,6,"state"],[36,13,9,11],[37,4,10,2],[37,8,10,8,"getState"],[37,16,10,16],[37,19,10,19],[37,28,10,8,"getState"],[37,36,10,16,"getState"],[37,37,10,16],[37,39,10,25],[38,6,11,4],[38,10,11,8,"initialized"],[38,21,11,19],[38,23,11,21],[39,8,12,6],[39,15,12,13,"state"],[39,20,12,18],[40,6,13,4],[41,6,14,4,"initialized"],[41,17,14,15],[41,20,14,18],[41,24,14,22],[42,6,15,4,"state"],[42,11,15,9],[42,14,15,12],[42,18,15,12,"deepFreeze"],[42,31,15,22],[42,32,15,22,"deepFreeze"],[42,42,15,22],[42,44,15,23,"getInitialState"],[42,59,15,38],[42,60,15,39],[42,61,15,40],[42,62,15,41],[43,6,16,4],[43,13,16,11,"state"],[43,18,16,16],[44,4,17,2],[44,5,17,3],[45,4,18,2],[45,8,18,6,"isBatching"],[45,18,18,16],[45,21,18,19],[45,26,18,24],[46,4,19,2],[46,8,19,6,"didUpdate"],[46,17,19,15],[46,20,19,18],[46,25,19,23],[47,4,20,2],[47,8,20,8,"setState"],[47,16,20,16],[47,19,20,19],[47,28,20,8,"setState"],[47,36,20,16,"setState"],[47,37,20,19,"newState"],[47,45,20,27],[47,47,20,31],[48,6,21,4,"state"],[48,11,21,9],[48,14,21,12],[48,18,21,12,"deepFreeze"],[48,31,21,22],[48,32,21,22,"deepFreeze"],[48,42,21,22],[48,44,21,23,"newState"],[48,52,21,31],[48,53,21,32],[49,6,22,4,"didUpdate"],[49,15,22,13],[49,18,22,16],[49,22,22,20],[50,6,23,4],[50,10,23,8],[50,11,23,9,"isBatching"],[50,21,23,19],[50,23,23,21],[51,8,24,6,"listeners"],[51,17,24,15],[51,18,24,16,"forEach"],[51,25,24,23],[51,26,24,24],[51,36,24,24,"listener"],[51,44,24,32],[52,10,24,32],[52,17,24,36,"listener"],[52,25,24,44],[52,26,24,45],[52,27,24,46],[53,8,24,46],[53,10,24,47],[54,6,25,4],[55,4,26,2],[55,5,26,3],[56,4,27,2],[56,8,27,8,"subscribe"],[56,17,27,17],[56,20,27,20],[56,29,27,8,"subscribe"],[56,38,27,17,"subscribe"],[56,39,27,20,"callback"],[56,47,27,28],[56,49,27,32],[57,6,28,4,"listeners"],[57,15,28,13],[57,16,28,14,"push"],[57,20,28,18],[57,21,28,19,"callback"],[57,29,28,27],[57,30,28,28],[58,6,29,4],[58,13,29,11],[58,25,29,17],[59,8,30,6],[59,12,30,12,"index"],[59,17,30,17],[59,20,30,20,"listeners"],[59,29,30,29],[59,30,30,30,"indexOf"],[59,37,30,37],[59,38,30,38,"callback"],[59,46,30,46],[59,47,30,47],[60,8,31,6],[60,12,31,10,"index"],[60,17,31,15],[60,20,31,18],[60,21,31,19],[60,22,31,20],[60,24,31,22],[61,10,32,8,"listeners"],[61,19,32,17],[61,20,32,18,"splice"],[61,26,32,24],[61,27,32,25,"index"],[61,32,32,30],[61,34,32,32],[61,35,32,33],[61,36,32,34],[62,8,33,6],[63,6,34,4],[63,7,34,5],[64,4,35,2],[64,5,35,3],[65,4,36,2],[65,8,36,8,"batchUpdates"],[65,20,36,20],[65,23,36,23],[65,32,36,8,"batchUpdates"],[65,44,36,20,"batchUpdates"],[65,45,36,23,"callback"],[65,53,36,31],[65,55,36,35],[66,6,37,4,"isBatching"],[66,16,37,14],[66,19,37,17],[66,23,37,21],[67,6,38,4,"callback"],[67,14,38,12],[67,15,38,13],[67,16,38,14],[68,6,39,4,"isBatching"],[68,16,39,14],[68,19,39,17],[68,24,39,22],[69,6,40,4],[69,10,40,8,"didUpdate"],[69,19,40,17],[69,21,40,19],[70,8,41,6,"didUpdate"],[70,17,41,15],[70,20,41,18],[70,25,41,23],[71,8,42,6,"listeners"],[71,17,42,15],[71,18,42,16,"forEach"],[71,25,42,23],[71,26,42,24],[71,36,42,24,"listener"],[71,44,42,32],[72,10,42,32],[72,17,42,36,"listener"],[72,25,42,44],[72,26,42,45],[72,27,42,46],[73,8,42,46],[73,10,42,47],[74,6,43,4],[75,4,44,2],[75,5,44,3],[76,4,45,2],[76,11,45,9],[77,6,46,4,"getState"],[77,14,46,12],[77,16,46,4,"getState"],[77,24,46,12],[78,6,47,4,"setState"],[78,14,47,12],[78,16,47,4,"setState"],[78,24,47,12],[79,6,48,4,"batchUpdates"],[79,18,48,16],[79,20,48,4,"batchUpdates"],[79,32,48,16],[80,6,49,4,"subscribe"],[80,15,49,13],[80,17,49,4,"subscribe"],[81,4,50,2],[81,5,50,3],[82,2,51,0],[82,3,51,1],[83,2,52,7],[83,11,52,16,"useSyncState"],[83,23,52,28,"useSyncState"],[83,24,52,29,"getInitialState"],[83,39,52,44],[83,41,52,46],[84,4,53,2],[84,8,53,8,"store"],[84,13,53,13],[84,16,53,16,"React"],[84,21,53,21],[84,22,53,22,"useRef"],[84,28,53,28],[84,29,53,29,"createStore"],[84,40,53,40],[84,41,53,41,"getInitialState"],[84,56,53,56],[84,57,53,57],[84,58,53,58],[84,59,53,59,"current"],[84,66,53,66],[85,4,54,2],[85,8,54,8,"state"],[85,13,54,13],[85,16,54,16,"React"],[85,21,54,21],[85,22,54,22,"useSyncExternalStore"],[85,42,54,42],[85,43,54,43,"store"],[85,48,54,48],[85,49,54,49,"subscribe"],[85,58,54,58],[85,60,54,60,"store"],[85,65,54,65],[85,66,54,66,"getState"],[85,74,54,74],[85,76,54,76,"store"],[85,81,54,81],[85,82,54,82,"getState"],[85,90,54,90],[85,91,54,91],[86,4,55,2,"React"],[86,9,55,7],[86,10,55,8,"useDebugValue"],[86,23,55,21],[86,24,55,22,"state"],[86,29,55,27],[86,30,55,28],[87,4,56,2],[87,8,56,8,"pendingUpdatesRef"],[87,25,56,25],[87,28,56,28,"React"],[87,33,56,33],[87,34,56,34,"useRef"],[87,40,56,40],[87,41,56,41],[87,43,56,43],[87,44,56,44],[88,4,57,2],[88,8,57,8,"scheduleUpdate"],[88,22,57,22],[88,25,57,25],[88,29,57,25,"useLatestCallback"],[88,46,57,42],[88,47,57,42,"default"],[88,54,57,42],[88,56,57,43],[88,66,57,43,"callback"],[88,74,57,51],[88,76,57,55],[89,6,58,4,"pendingUpdatesRef"],[89,23,58,21],[89,24,58,22,"current"],[89,31,58,29],[89,32,58,30,"push"],[89,36,58,34],[89,37,58,35,"callback"],[89,45,58,43],[89,46,58,44],[90,4,59,2],[90,5,59,3],[90,6,59,4],[91,4,60,2],[91,8,60,8,"flushUpdates"],[91,20,60,20],[91,23,60,23],[91,27,60,23,"useLatestCallback"],[91,44,60,40],[91,45,60,40,"default"],[91,52,60,40],[91,54,60,41],[91,66,60,47],[92,6,61,4],[92,10,61,10,"pendingUpdates"],[92,24,61,24],[92,27,61,27,"pendingUpdatesRef"],[92,44,61,44],[92,45,61,45,"current"],[92,52,61,52],[93,6,62,4,"pendingUpdatesRef"],[93,23,62,21],[93,24,62,22,"current"],[93,31,62,29],[93,34,62,32],[93,36,62,34],[94,6,63,4],[94,10,63,8,"pendingUpdates"],[94,24,63,22],[94,25,63,23,"length"],[94,31,63,29],[94,36,63,34],[94,37,63,35],[94,39,63,37],[95,8,64,6,"store"],[95,13,64,11],[95,14,64,12,"batchUpdates"],[95,26,64,24],[95,27,64,25],[95,39,64,31],[96,10,65,8],[97,10,66,8],[97,15,66,13],[97,19,66,19,"update"],[97,25,66,25],[97,29,66,29,"pendingUpdates"],[97,43,66,43],[97,45,66,45],[98,12,67,10,"update"],[98,18,67,16],[98,19,67,17],[98,20,67,18],[99,10,68,8],[100,8,69,6],[100,9,69,7],[100,10,69,8],[101,6,70,4],[102,4,71,2],[102,5,71,3],[102,6,71,4],[103,4,72,2],[103,11,72,9],[104,6,73,4,"state"],[104,11,73,9],[104,13,73,4,"state"],[104,18,73,9],[105,6,74,4,"getState"],[105,14,74,12],[105,16,74,14,"store"],[105,21,74,19],[105,22,74,20,"getState"],[105,30,74,28],[106,6,75,4,"setState"],[106,14,75,12],[106,16,75,14,"store"],[106,21,75,19],[106,22,75,20,"setState"],[106,30,75,28],[107,6,76,4,"scheduleUpdate"],[107,20,76,18],[107,22,76,4,"scheduleUpdate"],[107,36,76,18],[108,6,77,4,"flushUpdates"],[108,18,77,16],[108,20,77,4,"flushUpdates"],[109,4,78,2],[109,5,78,3],[110,2,79,0],[111,0,79,1],[111,3]],"functionMap":{"names":["<global>","createStore","getState","setState","listeners.forEach$argument_0","subscribe","<anonymous>","batchUpdates","useSyncState","useLatestCallback$argument_0","store.batchUpdates$argument_0"],"mappings":"AAA;oBCK;mBCI;GDO;mBEG;wBCI,sBD;GFE;oBIC;WCE;KDK;GJC;uBMC;wBHM,sBG;GNE;CDO;OQC;2CCK;GDE;yCCC;yBCI;ODK;GDE;CRQ"},"hasCjsExports":false},"type":"js/module"}]}