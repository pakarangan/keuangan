{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":31,"index":46}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./NavigationBuilderContext.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":47},"end":{"line":4,"column":73,"index":120}}],"key":"vvb+tbs8cGp9hlTxgL5PZCjRz5E=","exportNames":["*"],"imports":1}},{"name":"./NavigationStateContext.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":121},"end":{"line":5,"column":69,"index":190}}],"key":"vPXNy6i2DuFIp7nHtHgSOvNmS+U=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  exports.useOptionsGetters = useOptionsGetters;\n  var _react = require(_dependencyMap[0], \"react\");\n  var React = _interopNamespace(_react);\n  var _NavigationBuilderContextJs = require(_dependencyMap[1], \"./NavigationBuilderContext.js\");\n  var _NavigationStateContextJs = require(_dependencyMap[2], \"./NavigationStateContext.js\");\n  function useOptionsGetters(_ref) {\n    var key = _ref.key,\n      options = _ref.options,\n      navigation = _ref.navigation;\n    var optionsRef = React.useRef(options);\n    var optionsGettersFromChildRef = React.useRef({});\n    var _React$useContext = React.useContext(_NavigationBuilderContextJs.NavigationBuilderContext),\n      onOptionsChange = _React$useContext.onOptionsChange;\n    var _React$useContext2 = React.useContext(_NavigationStateContextJs.NavigationStateContext),\n      parentAddOptionsGetter = _React$useContext2.addOptionsGetter;\n    var optionsChangeListener = React.useCallback(function () {\n      var _navigation$isFocused;\n      var isFocused = (_navigation$isFocused = navigation == null ? void 0 : navigation.isFocused()) != null ? _navigation$isFocused : true;\n      var hasChildren = Object.keys(optionsGettersFromChildRef.current).length;\n      if (isFocused && !hasChildren) {\n        var _optionsRef$current;\n        onOptionsChange((_optionsRef$current = optionsRef.current) != null ? _optionsRef$current : {});\n      }\n    }, [navigation, onOptionsChange]);\n    React.useEffect(function () {\n      optionsRef.current = options;\n      optionsChangeListener();\n      return navigation == null ? void 0 : navigation.addListener('focus', optionsChangeListener);\n    }, [navigation, options, optionsChangeListener]);\n    var getOptionsFromListener = React.useCallback(function () {\n      for (var _key in optionsGettersFromChildRef.current) {\n        if (_key in optionsGettersFromChildRef.current) {\n          var _optionsGettersFromCh, _optionsGettersFromCh2;\n          var result = (_optionsGettersFromCh = (_optionsGettersFromCh2 = optionsGettersFromChildRef.current)[_key]) == null ? void 0 : _optionsGettersFromCh.call(_optionsGettersFromCh2);\n\n          // null means unfocused route\n          if (result !== null) {\n            return result;\n          }\n        }\n      }\n      return null;\n    }, []);\n    var getCurrentOptions = React.useCallback(function () {\n      var _navigation$isFocused2;\n      var isFocused = (_navigation$isFocused2 = navigation == null ? void 0 : navigation.isFocused()) != null ? _navigation$isFocused2 : true;\n      if (!isFocused) {\n        return null;\n      }\n      var optionsFromListener = getOptionsFromListener();\n      if (optionsFromListener !== null) {\n        return optionsFromListener;\n      }\n      return optionsRef.current;\n    }, [navigation, getOptionsFromListener]);\n    React.useEffect(function () {\n      return parentAddOptionsGetter == null ? void 0 : parentAddOptionsGetter(key, getCurrentOptions);\n    }, [getCurrentOptions, parentAddOptionsGetter, key]);\n    var addOptionsGetter = React.useCallback(function (key, getter) {\n      optionsGettersFromChildRef.current[key] = getter;\n      optionsChangeListener();\n      return function () {\n        // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n        delete optionsGettersFromChildRef.current[key];\n        optionsChangeListener();\n      };\n    }, [optionsChangeListener]);\n    return {\n      addOptionsGetter: addOptionsGetter,\n      getCurrentOptions: getCurrentOptions\n    };\n  }\n});","lineCount":94,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13],[7,11,1,13,"_interopNamespace"],[7,29,1,13,"e"],[7,30,1,13],[8,4,1,13],[8,8,1,13,"e"],[8,9,1,13],[8,13,1,13,"e"],[8,14,1,13],[8,15,1,13,"__esModule"],[8,25,1,13],[8,34,1,13,"e"],[8,35,1,13],[9,4,1,13],[9,8,1,13,"n"],[9,9,1,13],[10,4,1,13],[10,8,1,13,"e"],[10,9,1,13],[10,11,1,13,"Object"],[10,17,1,13],[10,18,1,13,"keys"],[10,22,1,13],[10,23,1,13,"e"],[10,24,1,13],[10,26,1,13,"forEach"],[10,33,1,13],[10,44,1,13,"k"],[10,45,1,13],[11,6,1,13],[11,10,1,13,"d"],[11,11,1,13],[11,14,1,13,"Object"],[11,20,1,13],[11,21,1,13,"getOwnPropertyDescriptor"],[11,45,1,13],[11,46,1,13,"e"],[11,47,1,13],[11,49,1,13,"k"],[11,50,1,13],[12,6,1,13,"Object"],[12,12,1,13],[12,13,1,13,"defineProperty"],[12,27,1,13],[12,28,1,13,"n"],[12,29,1,13],[12,31,1,13,"k"],[12,32,1,13],[12,34,1,13,"d"],[12,35,1,13],[12,36,1,13,"get"],[12,39,1,13],[12,42,1,13,"d"],[12,43,1,13],[13,8,1,13,"enumerable"],[13,18,1,13],[14,8,1,13,"get"],[14,11,1,13],[14,22,1,13,"get"],[14,23,1,13],[15,10,1,13],[15,17,1,13,"e"],[15,18,1,13],[15,19,1,13,"k"],[15,20,1,13],[16,8,1,13],[17,6,1,13],[18,4,1,13],[19,4,1,13,"n"],[19,5,1,13],[19,6,1,13,"default"],[19,13,1,13],[19,16,1,13,"e"],[19,17,1,13],[20,4,1,13],[20,11,1,13,"n"],[20,12,1,13],[21,2,1,13],[22,2,6,0,"exports"],[22,9,6,0],[22,10,6,0,"useOptionsGetters"],[22,27,6,0],[22,30,6,0,"useOptionsGetters"],[22,47,6,0],[23,2,3,0],[23,6,3,0,"_react"],[23,12,3,0],[23,15,3,0,"require"],[23,22,3,0],[23,23,3,0,"_dependencyMap"],[23,37,3,0],[24,2,3,0],[24,6,3,0,"React"],[24,11,3,0],[24,14,3,0,"_interopNamespace"],[24,31,3,0],[24,32,3,0,"_react"],[24,38,3,0],[25,2,4,0],[25,6,4,0,"_NavigationBuilderContextJs"],[25,33,4,0],[25,36,4,0,"require"],[25,43,4,0],[25,44,4,0,"_dependencyMap"],[25,58,4,0],[26,2,5,0],[26,6,5,0,"_NavigationStateContextJs"],[26,31,5,0],[26,34,5,0,"require"],[26,41,5,0],[26,42,5,0,"_dependencyMap"],[26,56,5,0],[27,2,6,7],[27,11,6,16,"useOptionsGetters"],[27,28,6,33,"useOptionsGetters"],[27,29,6,33,"_ref"],[27,33,6,33],[27,35,10,3],[28,4,10,3],[28,8,7,2,"key"],[28,11,7,5],[28,14,7,5,"_ref"],[28,18,7,5],[28,19,7,2,"key"],[28,22,7,5],[29,6,8,2,"options"],[29,13,8,9],[29,16,8,9,"_ref"],[29,20,8,9],[29,21,8,2,"options"],[29,28,8,9],[30,6,9,2,"navigation"],[30,16,9,12],[30,19,9,12,"_ref"],[30,23,9,12],[30,24,9,2,"navigation"],[30,34,9,12],[31,4,11,2],[31,8,11,8,"optionsRef"],[31,18,11,18],[31,21,11,21,"React"],[31,26,11,26],[31,27,11,27,"useRef"],[31,33,11,33],[31,34,11,34,"options"],[31,41,11,41],[31,42,11,42],[32,4,12,2],[32,8,12,8,"optionsGettersFromChildRef"],[32,34,12,34],[32,37,12,37,"React"],[32,42,12,42],[32,43,12,43,"useRef"],[32,49,12,49],[32,50,12,50],[32,51,12,51],[32,52,12,52],[32,53,12,53],[33,4,13,2],[33,8,13,2,"_React$useContext"],[33,25,13,2],[33,28,15,6,"React"],[33,33,15,11],[33,34,15,12,"useContext"],[33,44,15,22],[33,45,15,23,"NavigationBuilderContext"],[33,72,15,47],[33,73,15,47,"NavigationBuilderContext"],[33,97,15,47],[33,98,15,48],[34,6,14,4,"onOptionsChange"],[34,21,14,19],[34,24,14,19,"_React$useContext"],[34,41,14,19],[34,42,14,4,"onOptionsChange"],[34,57,14,19],[35,4,16,2],[35,8,16,2,"_React$useContext2"],[35,26,16,2],[35,29,18,6,"React"],[35,34,18,11],[35,35,18,12,"useContext"],[35,45,18,22],[35,46,18,23,"NavigationStateContext"],[35,71,18,45],[35,72,18,45,"NavigationStateContext"],[35,94,18,45],[35,95,18,46],[36,6,17,22,"parentAddOptionsGetter"],[36,28,17,44],[36,31,17,44,"_React$useContext2"],[36,49,17,44],[36,50,17,4,"addOptionsGetter"],[36,66,17,20],[37,4,19,2],[37,8,19,8,"optionsChangeListener"],[37,29,19,29],[37,32,19,32,"React"],[37,37,19,37],[37,38,19,38,"useCallback"],[37,49,19,49],[37,50,19,50],[37,62,19,56],[38,6,19,56],[38,10,19,56,"_navigation$isFocused"],[38,31,19,56],[39,6,20,4],[39,10,20,10,"isFocused"],[39,19,20,19],[39,23,20,19,"_navigation$isFocused"],[39,44,20,19],[39,47,20,22,"navigation"],[39,57,20,32],[39,77,20,22,"navigation"],[39,87,20,32],[39,88,20,34,"isFocused"],[39,97,20,43],[39,98,20,44],[39,99,20,45],[39,111,20,45,"_navigation$isFocused"],[39,132,20,45],[39,135,20,49],[39,139,20,53],[40,6,21,4],[40,10,21,10,"hasChildren"],[40,21,21,21],[40,24,21,24,"Object"],[40,30,21,30],[40,31,21,31,"keys"],[40,35,21,35],[40,36,21,36,"optionsGettersFromChildRef"],[40,62,21,62],[40,63,21,63,"current"],[40,70,21,70],[40,71,21,71],[40,72,21,72,"length"],[40,78,21,78],[41,6,22,4],[41,10,22,8,"isFocused"],[41,19,22,17],[41,23,22,21],[41,24,22,22,"hasChildren"],[41,35,22,33],[41,37,22,35],[42,8,22,35],[42,12,22,35,"_optionsRef$current"],[42,31,22,35],[43,8,23,6,"onOptionsChange"],[43,23,23,21],[43,25,23,21,"_optionsRef$current"],[43,44,23,21],[43,47,23,22,"optionsRef"],[43,57,23,32],[43,58,23,33,"current"],[43,65,23,40],[43,77,23,40,"_optionsRef$current"],[43,96,23,40],[43,99,23,44],[43,100,23,45],[43,101,23,46],[43,102,23,47],[44,6,24,4],[45,4,25,2],[45,5,25,3],[45,7,25,5],[45,8,25,6,"navigation"],[45,18,25,16],[45,20,25,18,"onOptionsChange"],[45,35,25,33],[45,36,25,34],[45,37,25,35],[46,4,26,2,"React"],[46,9,26,7],[46,10,26,8,"useEffect"],[46,19,26,17],[46,20,26,18],[46,32,26,24],[47,6,27,4,"optionsRef"],[47,16,27,14],[47,17,27,15,"current"],[47,24,27,22],[47,27,27,25,"options"],[47,34,27,32],[48,6,28,4,"optionsChangeListener"],[48,27,28,25],[48,28,28,26],[48,29,28,27],[49,6,29,4],[49,13,29,11,"navigation"],[49,23,29,21],[49,43,29,11,"navigation"],[49,53,29,21],[49,54,29,23,"addListener"],[49,65,29,34],[49,66,29,35],[49,73,29,42],[49,75,29,44,"optionsChangeListener"],[49,96,29,65],[49,97,29,66],[50,4,30,2],[50,5,30,3],[50,7,30,5],[50,8,30,6,"navigation"],[50,18,30,16],[50,20,30,18,"options"],[50,27,30,25],[50,29,30,27,"optionsChangeListener"],[50,50,30,48],[50,51,30,49],[50,52,30,50],[51,4,31,2],[51,8,31,8,"getOptionsFromListener"],[51,30,31,30],[51,33,31,33,"React"],[51,38,31,38],[51,39,31,39,"useCallback"],[51,50,31,50],[51,51,31,51],[51,63,31,57],[52,6,32,4],[52,11,32,9],[52,15,32,15,"key"],[52,19,32,18],[52,23,32,22,"optionsGettersFromChildRef"],[52,49,32,48],[52,50,32,49,"current"],[52,57,32,56],[52,59,32,58],[53,8,33,6],[53,12,33,10,"key"],[53,16,33,13],[53,20,33,17,"optionsGettersFromChildRef"],[53,46,33,43],[53,47,33,44,"current"],[53,54,33,51],[53,56,33,53],[54,10,33,53],[54,14,33,53,"_optionsGettersFromCh"],[54,35,33,53],[54,37,33,53,"_optionsGettersFromCh2"],[54,59,33,53],[55,10,34,8],[55,14,34,14,"result"],[55,20,34,20],[55,24,34,20,"_optionsGettersFromCh"],[55,45,34,20],[55,48,34,23],[55,49,34,23,"_optionsGettersFromCh2"],[55,71,34,23],[55,74,34,23,"optionsGettersFromChildRef"],[55,100,34,49],[55,101,34,50,"current"],[55,108,34,57],[55,110,34,58,"key"],[55,114,34,61],[55,115,34,62],[55,136,34,23,"_optionsGettersFromCh"],[55,157,34,23],[55,158,34,23,"call"],[55,162,34,23],[55,163,34,23,"_optionsGettersFromCh2"],[55,185,34,65],[55,186,34,66],[57,10,36,8],[58,10,37,8],[58,14,37,12,"result"],[58,20,37,18],[58,25,37,23],[58,29,37,27],[58,31,37,29],[59,12,38,10],[59,19,38,17,"result"],[59,25,38,23],[60,10,39,8],[61,8,40,6],[62,6,41,4],[63,6,42,4],[63,13,42,11],[63,17,42,15],[64,4,43,2],[64,5,43,3],[64,7,43,5],[64,9,43,7],[64,10,43,8],[65,4,44,2],[65,8,44,8,"getCurrentOptions"],[65,25,44,25],[65,28,44,28,"React"],[65,33,44,33],[65,34,44,34,"useCallback"],[65,45,44,45],[65,46,44,46],[65,58,44,52],[66,6,44,52],[66,10,44,52,"_navigation$isFocused2"],[66,32,44,52],[67,6,45,4],[67,10,45,10,"isFocused"],[67,19,45,19],[67,23,45,19,"_navigation$isFocused2"],[67,45,45,19],[67,48,45,22,"navigation"],[67,58,45,32],[67,78,45,22,"navigation"],[67,88,45,32],[67,89,45,34,"isFocused"],[67,98,45,43],[67,99,45,44],[67,100,45,45],[67,112,45,45,"_navigation$isFocused2"],[67,134,45,45],[67,137,45,49],[67,141,45,53],[68,6,46,4],[68,10,46,8],[68,11,46,9,"isFocused"],[68,20,46,18],[68,22,46,20],[69,8,47,6],[69,15,47,13],[69,19,47,17],[70,6,48,4],[71,6,49,4],[71,10,49,10,"optionsFromListener"],[71,29,49,29],[71,32,49,32,"getOptionsFromListener"],[71,54,49,54],[71,55,49,55],[71,56,49,56],[72,6,50,4],[72,10,50,8,"optionsFromListener"],[72,29,50,27],[72,34,50,32],[72,38,50,36],[72,40,50,38],[73,8,51,6],[73,15,51,13,"optionsFromListener"],[73,34,51,32],[74,6,52,4],[75,6,53,4],[75,13,53,11,"optionsRef"],[75,23,53,21],[75,24,53,22,"current"],[75,31,53,29],[76,4,54,2],[76,5,54,3],[76,7,54,5],[76,8,54,6,"navigation"],[76,18,54,16],[76,20,54,18,"getOptionsFromListener"],[76,42,54,40],[76,43,54,41],[76,44,54,42],[77,4,55,2,"React"],[77,9,55,7],[77,10,55,8,"useEffect"],[77,19,55,17],[77,20,55,18],[77,32,55,24],[78,6,56,4],[78,13,56,11,"parentAddOptionsGetter"],[78,35,56,33],[78,55,56,11,"parentAddOptionsGetter"],[78,77,56,33],[78,78,56,36,"key"],[78,81,56,39],[78,83,56,41,"getCurrentOptions"],[78,100,56,58],[78,101,56,59],[79,4,57,2],[79,5,57,3],[79,7,57,5],[79,8,57,6,"getCurrentOptions"],[79,25,57,23],[79,27,57,25,"parentAddOptionsGetter"],[79,49,57,47],[79,51,57,49,"key"],[79,54,57,52],[79,55,57,53],[79,56,57,54],[80,4,58,2],[80,8,58,8,"addOptionsGetter"],[80,24,58,24],[80,27,58,27,"React"],[80,32,58,32],[80,33,58,33,"useCallback"],[80,44,58,44],[80,45,58,45],[80,55,58,46,"key"],[80,58,58,49],[80,60,58,51,"getter"],[80,66,58,57],[80,68,58,62],[81,6,59,4,"optionsGettersFromChildRef"],[81,32,59,30],[81,33,59,31,"current"],[81,40,59,38],[81,41,59,39,"key"],[81,44,59,42],[81,45,59,43],[81,48,59,46,"getter"],[81,54,59,52],[82,6,60,4,"optionsChangeListener"],[82,27,60,25],[82,28,60,26],[82,29,60,27],[83,6,61,4],[83,13,61,11],[83,25,61,17],[84,8,62,6],[85,8,63,6],[85,15,63,13,"optionsGettersFromChildRef"],[85,41,63,39],[85,42,63,40,"current"],[85,49,63,47],[85,50,63,48,"key"],[85,53,63,51],[85,54,63,52],[86,8,64,6,"optionsChangeListener"],[86,29,64,27],[86,30,64,28],[86,31,64,29],[87,6,65,4],[87,7,65,5],[88,4,66,2],[88,5,66,3],[88,7,66,5],[88,8,66,6,"optionsChangeListener"],[88,29,66,27],[88,30,66,28],[88,31,66,29],[89,4,67,2],[89,11,67,9],[90,6,68,4,"addOptionsGetter"],[90,22,68,20],[90,24,68,4,"addOptionsGetter"],[90,40,68,20],[91,6,69,4,"getCurrentOptions"],[91,23,69,21],[91,25,69,4,"getCurrentOptions"],[92,4,70,2],[92,5,70,3],[93,2,71,0],[94,0,71,1],[94,3]],"functionMap":{"names":["<global>","useOptionsGetters","optionsChangeListener","React.useEffect$argument_0","getOptionsFromListener","getCurrentOptions","addOptionsGetter","<anonymous>"],"mappings":"AAA;OCK;kDCa;GDM;kBEC;GFI;mDGC;GHY;8CIC;GJU;kBEC;GFE;6CKC;WCG;KDI;GLC;CDK"},"hasCjsExports":false},"type":"js/module"}]}