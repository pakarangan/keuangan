{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":13,"column":29,"index":254},"end":{"line":13,"column":84,"index":309}}],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/objectSpread2","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":16,"column":44,"index":416},"end":{"line":16,"column":91,"index":463}}],"key":"F+ExrfS9dcoZxXJOBwTmx09hji8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createForOfIteratorHelperLoose","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":17,"column":62,"index":528},"end":{"line":17,"column":126,"index":592}}],"key":"D8hazSpj47mvz7vrnefek88staE=","exportNames":["*"],"imports":1}},{"name":"fbjs/lib/invariant","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":18,"column":40,"index":635},"end":{"line":18,"column":69,"index":664}}],"key":"ePiUN85REKH0vTLGPPDgdWgjFww=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  /**\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * \n   * @format\n   */\n\n  'use strict';\n\n  var _classCallCheck = require(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\").default;\n  var _createClass = require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\").default;\n  var _interopRequireDefault = require(_dependencyMap[2], \"@babel/runtime/helpers/interopRequireDefault\").default;\n  exports.__esModule = true;\n  exports.default = void 0;\n  var _objectSpread2 = _interopRequireDefault(require(_dependencyMap[3], \"@babel/runtime/helpers/objectSpread2\"));\n  var _createForOfIteratorHelperLoose2 = _interopRequireDefault(require(_dependencyMap[4], \"@babel/runtime/helpers/createForOfIteratorHelperLoose\"));\n  var _invariant = _interopRequireDefault(require(_dependencyMap[5], \"fbjs/lib/invariant\"));\n  /**\n   * A Utility class for calculating viewable items based on current metrics like scroll position and\n   * layout.\n   *\n   * An item is said to be in a \"viewable\" state when any of the following\n   * is true for longer than `minimumViewTime` milliseconds (after an interaction if `waitForInteraction`\n   * is true):\n   *\n   * - Occupying >= `viewAreaCoveragePercentThreshold` of the view area XOR fraction of the item\n   *   visible in the view area >= `itemVisiblePercentThreshold`.\n   * - Entirely visible on screen\n   */\n  var ViewabilityHelper = /*#__PURE__*/function () {\n    function ViewabilityHelper(config) {\n      _classCallCheck(this, ViewabilityHelper);\n      if (config === void 0) {\n        config = {\n          viewAreaCoveragePercentThreshold: 0\n        };\n      }\n      this._hasInteracted = false;\n      this._timers = new Set();\n      this._viewableIndices = [];\n      this._viewableItems = new Map();\n      this._config = config;\n    }\n\n    /**\n     * Cleanup, e.g. on unmount. Clears any pending timers.\n     */\n    return _createClass(ViewabilityHelper, [{\n      key: \"dispose\",\n      value: function dispose() {\n        /* $FlowFixMe[incompatible-call] (>=0.63.0 site=react_native_fb) This\n         * comment suppresses an error found when Flow v0.63 was deployed. To see\n         * the error delete this comment and run Flow. */\n        this._timers.forEach(clearTimeout);\n      }\n\n      /**\n       * Determines which items are viewable based on the current metrics and config.\n       */\n    }, {\n      key: \"computeViewableItems\",\n      value: function computeViewableItems(props, scrollOffset, viewportHeight, getFrameMetrics,\n      // Optional optimization to reduce the scan size\n      renderRange) {\n        var itemCount = props.getItemCount(props.data);\n        var _this$_config = this._config,\n          itemVisiblePercentThreshold = _this$_config.itemVisiblePercentThreshold,\n          viewAreaCoveragePercentThreshold = _this$_config.viewAreaCoveragePercentThreshold;\n        var viewAreaMode = viewAreaCoveragePercentThreshold != null;\n        var viewablePercentThreshold = viewAreaMode ? viewAreaCoveragePercentThreshold : itemVisiblePercentThreshold;\n        (0, _invariant.default)(viewablePercentThreshold != null && itemVisiblePercentThreshold != null !== (viewAreaCoveragePercentThreshold != null), 'Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold');\n        var viewableIndices = [];\n        if (itemCount === 0) {\n          return viewableIndices;\n        }\n        var firstVisible = -1;\n        var _ref = renderRange || {\n            first: 0,\n            last: itemCount - 1\n          },\n          first = _ref.first,\n          last = _ref.last;\n        if (last >= itemCount) {\n          console.warn('Invalid render range computing viewability ' + JSON.stringify({\n            renderRange: renderRange,\n            itemCount: itemCount\n          }));\n          return [];\n        }\n        for (var idx = first; idx <= last; idx++) {\n          var metrics = getFrameMetrics(idx, props);\n          if (!metrics) {\n            continue;\n          }\n          var top = metrics.offset - scrollOffset;\n          var bottom = top + metrics.length;\n          if (top < viewportHeight && bottom > 0) {\n            firstVisible = idx;\n            if (_isViewable(viewAreaMode, viewablePercentThreshold, top, bottom, viewportHeight, metrics.length)) {\n              viewableIndices.push(idx);\n            }\n          } else if (firstVisible >= 0) {\n            break;\n          }\n        }\n        return viewableIndices;\n      }\n\n      /**\n       * Figures out which items are viewable and how that has changed from before and calls\n       * `onViewableItemsChanged` as appropriate.\n       */\n    }, {\n      key: \"onUpdate\",\n      value: function onUpdate(props, scrollOffset, viewportHeight, getFrameMetrics, createViewToken, onViewableItemsChanged,\n      // Optional optimization to reduce the scan size\n      renderRange) {\n        var _this = this;\n        var itemCount = props.getItemCount(props.data);\n        if (this._config.waitForInteraction && !this._hasInteracted || itemCount === 0 || !getFrameMetrics(0, props)) {\n          return;\n        }\n        var viewableIndices = [];\n        if (itemCount) {\n          viewableIndices = this.computeViewableItems(props, scrollOffset, viewportHeight, getFrameMetrics, renderRange);\n        }\n        if (this._viewableIndices.length === viewableIndices.length && this._viewableIndices.every(function (v, ii) {\n          return v === viewableIndices[ii];\n        })) {\n          // We might get a lot of scroll events where visibility doesn't change and we don't want to do\n          // extra work in those cases.\n          return;\n        }\n        this._viewableIndices = viewableIndices;\n        if (this._config.minimumViewTime) {\n          var handle = setTimeout(function () {\n            /* $FlowFixMe[incompatible-call] (>=0.63.0 site=react_native_fb) This\n             * comment suppresses an error found when Flow v0.63 was deployed. To\n             * see the error delete this comment and run Flow. */\n            _this._timers.delete(handle);\n            _this._onUpdateSync(props, viewableIndices, onViewableItemsChanged, createViewToken);\n          }, this._config.minimumViewTime);\n          /* $FlowFixMe[incompatible-call] (>=0.63.0 site=react_native_fb) This\n           * comment suppresses an error found when Flow v0.63 was deployed. To see\n           * the error delete this comment and run Flow. */\n          this._timers.add(handle);\n        } else {\n          this._onUpdateSync(props, viewableIndices, onViewableItemsChanged, createViewToken);\n        }\n      }\n\n      /**\n       * clean-up cached _viewableIndices to evaluate changed items on next update\n       */\n    }, {\n      key: \"resetViewableIndices\",\n      value: function resetViewableIndices() {\n        this._viewableIndices = [];\n      }\n\n      /**\n       * Records that an interaction has happened even if there has been no scroll.\n       */\n    }, {\n      key: \"recordInteraction\",\n      value: function recordInteraction() {\n        this._hasInteracted = true;\n      }\n    }, {\n      key: \"_onUpdateSync\",\n      value: function _onUpdateSync(props, viewableIndicesToCheck, onViewableItemsChanged, createViewToken) {\n        var _this2 = this;\n        // Filter out indices that have gone out of view since this call was scheduled.\n        viewableIndicesToCheck = viewableIndicesToCheck.filter(function (ii) {\n          return _this2._viewableIndices.includes(ii);\n        });\n        var prevItems = this._viewableItems;\n        var nextItems = new Map(viewableIndicesToCheck.map(function (ii) {\n          var viewable = createViewToken(ii, true, props);\n          return [viewable.key, viewable];\n        }));\n        var changed = [];\n        for (var _iterator = (0, _createForOfIteratorHelperLoose2.default)(nextItems), _step; !(_step = _iterator()).done;) {\n          var _step$value = _step.value,\n            key = _step$value[0],\n            viewable = _step$value[1];\n          if (!prevItems.has(key)) {\n            changed.push(viewable);\n          }\n        }\n        for (var _iterator2 = (0, _createForOfIteratorHelperLoose2.default)(prevItems), _step2; !(_step2 = _iterator2()).done;) {\n          var _step2$value = _step2.value,\n            _key = _step2$value[0],\n            _viewable = _step2$value[1];\n          if (!nextItems.has(_key)) {\n            changed.push((0, _objectSpread2.default)((0, _objectSpread2.default)({}, _viewable), {}, {\n              isViewable: false\n            }));\n          }\n        }\n        if (changed.length > 0) {\n          this._viewableItems = nextItems;\n          onViewableItemsChanged({\n            viewableItems: Array.from(nextItems.values()),\n            changed: changed,\n            viewabilityConfig: this._config\n          });\n        }\n      }\n    }]);\n  }();\n  function _isViewable(viewAreaMode, viewablePercentThreshold, top, bottom, viewportHeight, itemLength) {\n    if (_isEntirelyVisible(top, bottom, viewportHeight)) {\n      return true;\n    } else {\n      var pixels = _getPixelsVisible(top, bottom, viewportHeight);\n      var percent = 100 * (viewAreaMode ? pixels / viewportHeight : pixels / itemLength);\n      return percent >= viewablePercentThreshold;\n    }\n  }\n  function _getPixelsVisible(top, bottom, viewportHeight) {\n    var visibleHeight = Math.min(bottom, viewportHeight) - Math.max(top, 0);\n    return Math.max(0, visibleHeight);\n  }\n  function _isEntirelyVisible(top, bottom, viewportHeight) {\n    return top >= 0 && bottom <= viewportHeight && bottom > top;\n  }\n  var _default = exports.default = ViewabilityHelper;\n  module.exports = exports.default;\n});","lineCount":234,"map":[[2,2,1,0],[3,0,2,0],[4,0,3,0],[5,0,4,0],[6,0,5,0],[7,0,6,0],[8,0,7,0],[9,0,8,0],[10,0,9,0],[12,2,11,0],[12,14,11,12],[14,2,11,13],[14,6,11,13,"_classCallCheck"],[14,21,11,13],[14,24,11,13,"require"],[14,31,11,13],[14,32,11,13,"_dependencyMap"],[14,46,11,13],[14,92,11,13,"default"],[14,99,11,13],[15,2,11,13],[15,6,11,13,"_createClass"],[15,18,11,13],[15,21,11,13,"require"],[15,28,11,13],[15,29,11,13,"_dependencyMap"],[15,43,11,13],[15,86,11,13,"default"],[15,93,11,13],[16,2,13,0],[16,6,13,4,"_interopRequireDefault"],[16,28,13,26],[16,31,13,29,"require"],[16,38,13,36],[16,39,13,36,"_dependencyMap"],[16,53,13,36],[16,104,13,83],[16,105,13,84],[16,106,13,85,"default"],[16,113,13,92],[17,2,14,0,"exports"],[17,9,14,7],[17,10,14,8,"__esModule"],[17,20,14,18],[17,23,14,21],[17,27,14,25],[18,2,15,0,"exports"],[18,9,15,7],[18,10,15,8,"default"],[18,17,15,15],[18,20,15,18],[18,25,15,23],[18,26,15,24],[19,2,16,0],[19,6,16,4,"_objectSpread2"],[19,20,16,18],[19,23,16,21,"_interopRequireDefault"],[19,45,16,43],[19,46,16,44,"require"],[19,53,16,51],[19,54,16,51,"_dependencyMap"],[19,68,16,51],[19,111,16,90],[19,112,16,91],[19,113,16,92],[20,2,17,0],[20,6,17,4,"_createForOfIteratorHelperLoose2"],[20,38,17,36],[20,41,17,39,"_interopRequireDefault"],[20,63,17,61],[20,64,17,62,"require"],[20,71,17,69],[20,72,17,69,"_dependencyMap"],[20,86,17,69],[20,146,17,125],[20,147,17,126],[20,148,17,127],[21,2,18,0],[21,6,18,4,"_invariant"],[21,16,18,14],[21,19,18,17,"_interopRequireDefault"],[21,41,18,39],[21,42,18,40,"require"],[21,49,18,47],[21,50,18,47,"_dependencyMap"],[21,64,18,47],[21,89,18,68],[21,90,18,69],[21,91,18,70],[22,2,19,0],[23,0,20,0],[24,0,21,0],[25,0,22,0],[26,0,23,0],[27,0,24,0],[28,0,25,0],[29,0,26,0],[30,0,27,0],[31,0,28,0],[32,0,29,0],[33,0,30,0],[34,2,19,0],[34,6,31,6,"ViewabilityHelper"],[34,23,31,23],[35,4,32,2],[35,13,32,2,"ViewabilityHelper"],[35,31,32,14,"config"],[35,37,32,20],[35,39,32,22],[36,6,32,22,"_classCallCheck"],[36,21,32,22],[36,28,32,22,"ViewabilityHelper"],[36,45,32,22],[37,6,33,4],[37,10,33,8,"config"],[37,16,33,14],[37,21,33,19],[37,26,33,24],[37,27,33,25],[37,29,33,27],[38,8,34,6,"config"],[38,14,34,12],[38,17,34,15],[39,10,35,8,"viewAreaCoveragePercentThreshold"],[39,42,35,40],[39,44,35,42],[40,8,36,6],[40,9,36,7],[41,6,37,4],[42,6,38,4],[42,10,38,8],[42,11,38,9,"_hasInteracted"],[42,25,38,23],[42,28,38,26],[42,33,38,31],[43,6,39,4],[43,10,39,8],[43,11,39,9,"_timers"],[43,18,39,16],[43,21,39,19],[43,25,39,23,"Set"],[43,28,39,26],[43,29,39,27],[43,30,39,28],[44,6,40,4],[44,10,40,8],[44,11,40,9,"_viewableIndices"],[44,27,40,25],[44,30,40,28],[44,32,40,30],[45,6,41,4],[45,10,41,8],[45,11,41,9,"_viewableItems"],[45,25,41,23],[45,28,41,26],[45,32,41,30,"Map"],[45,35,41,33],[45,36,41,34],[45,37,41,35],[46,6,42,4],[46,10,42,8],[46,11,42,9,"_config"],[46,18,42,16],[46,21,42,19,"config"],[46,27,42,25],[47,4,43,2],[49,4,45,2],[50,0,46,0],[51,0,47,0],[52,4,45,2],[52,11,45,2,"_createClass"],[52,23,45,2],[52,24,45,2,"ViewabilityHelper"],[52,41,45,2],[53,6,45,2,"key"],[53,9,45,2],[54,6,45,2,"value"],[54,11,45,2],[54,13,48,2],[54,22,48,2,"dispose"],[54,29,48,9,"dispose"],[54,30,48,9],[54,32,48,12],[55,8,49,4],[56,0,50,0],[57,0,51,0],[58,8,52,4],[58,12,52,8],[58,13,52,9,"_timers"],[58,20,52,16],[58,21,52,17,"forEach"],[58,28,52,24],[58,29,52,25,"clearTimeout"],[58,41,52,37],[58,42,52,38],[59,6,53,2],[61,6,55,2],[62,0,56,0],[63,0,57,0],[64,4,55,2],[65,6,55,2,"key"],[65,9,55,2],[66,6,55,2,"value"],[66,11,55,2],[66,13,58,2],[66,22,58,2,"computeViewableItems"],[66,42,58,22,"computeViewableItems"],[66,43,58,23,"props"],[66,48,58,28],[66,50,58,30,"scrollOffset"],[66,62,58,42],[66,64,58,44,"viewportHeight"],[66,78,58,58],[66,80,58,60,"getFrameMetrics"],[66,95,58,75],[67,6,59,2],[68,6,60,2,"renderRange"],[68,17,60,13],[68,19,60,15],[69,8,61,4],[69,12,61,8,"itemCount"],[69,21,61,17],[69,24,61,20,"props"],[69,29,61,25],[69,30,61,26,"getItemCount"],[69,42,61,38],[69,43,61,39,"props"],[69,48,61,44],[69,49,61,45,"data"],[69,53,61,49],[69,54,61,50],[70,8,62,4],[70,12,62,8,"_this$_config"],[70,25,62,21],[70,28,62,24],[70,32,62,28],[70,33,62,29,"_config"],[70,40,62,36],[71,10,63,6,"itemVisiblePercentThreshold"],[71,37,63,33],[71,40,63,36,"_this$_config"],[71,53,63,49],[71,54,63,50,"itemVisiblePercentThreshold"],[71,81,63,77],[72,10,64,6,"viewAreaCoveragePercentThreshold"],[72,42,64,38],[72,45,64,41,"_this$_config"],[72,58,64,54],[72,59,64,55,"viewAreaCoveragePercentThreshold"],[72,91,64,87],[73,8,65,4],[73,12,65,8,"viewAreaMode"],[73,24,65,20],[73,27,65,23,"viewAreaCoveragePercentThreshold"],[73,59,65,55],[73,63,65,59],[73,67,65,63],[74,8,66,4],[74,12,66,8,"viewablePercentThreshold"],[74,36,66,32],[74,39,66,35,"viewAreaMode"],[74,51,66,47],[74,54,66,50,"viewAreaCoveragePercentThreshold"],[74,86,66,82],[74,89,66,85,"itemVisiblePercentThreshold"],[74,116,66,112],[75,8,67,4],[75,9,67,5],[75,10,67,6],[75,12,67,8,"_invariant"],[75,22,67,18],[75,23,67,19,"default"],[75,30,67,26],[75,32,67,28,"viewablePercentThreshold"],[75,56,67,52],[75,60,67,56],[75,64,67,60],[75,68,67,64,"itemVisiblePercentThreshold"],[75,95,67,91],[75,99,67,95],[75,103,67,99],[75,109,67,105,"viewAreaCoveragePercentThreshold"],[75,141,67,137],[75,145,67,141],[75,149,67,145],[75,150,67,146],[75,152,67,148],[75,241,67,237],[75,242,67,238],[76,8,68,4],[76,12,68,8,"viewableIndices"],[76,27,68,23],[76,30,68,26],[76,32,68,28],[77,8,69,4],[77,12,69,8,"itemCount"],[77,21,69,17],[77,26,69,22],[77,27,69,23],[77,29,69,25],[78,10,70,6],[78,17,70,13,"viewableIndices"],[78,32,70,28],[79,8,71,4],[80,8,72,4],[80,12,72,8,"firstVisible"],[80,24,72,20],[80,27,72,23],[80,28,72,24],[80,29,72,25],[81,8,73,4],[81,12,73,8,"_ref"],[81,16,73,12],[81,19,73,15,"renderRange"],[81,30,73,26],[81,34,73,30],[82,12,74,8,"first"],[82,17,74,13],[82,19,74,15],[82,20,74,16],[83,12,75,8,"last"],[83,16,75,12],[83,18,75,14,"itemCount"],[83,27,75,23],[83,30,75,26],[84,10,76,6],[84,11,76,7],[85,10,77,6,"first"],[85,15,77,11],[85,18,77,14,"_ref"],[85,22,77,18],[85,23,77,19,"first"],[85,28,77,24],[86,10,78,6,"last"],[86,14,78,10],[86,17,78,13,"_ref"],[86,21,78,17],[86,22,78,18,"last"],[86,26,78,22],[87,8,79,4],[87,12,79,8,"last"],[87,16,79,12],[87,20,79,16,"itemCount"],[87,29,79,25],[87,31,79,27],[88,10,80,6,"console"],[88,17,80,13],[88,18,80,14,"warn"],[88,22,80,18],[88,23,80,19],[88,68,80,64],[88,71,80,67,"JSON"],[88,75,80,71],[88,76,80,72,"stringify"],[88,85,80,81],[88,86,80,82],[89,12,81,8,"renderRange"],[89,23,81,19],[89,25,81,8,"renderRange"],[89,36,81,19],[90,12,82,8,"itemCount"],[90,21,82,17],[90,23,82,8,"itemCount"],[91,10,83,6],[91,11,83,7],[91,12,83,8],[91,13,83,9],[92,10,84,6],[92,17,84,13],[92,19,84,15],[93,8,85,4],[94,8,86,4],[94,13,86,9],[94,17,86,13,"idx"],[94,20,86,16],[94,23,86,19,"first"],[94,28,86,24],[94,30,86,26,"idx"],[94,33,86,29],[94,37,86,33,"last"],[94,41,86,37],[94,43,86,39,"idx"],[94,46,86,42],[94,48,86,44],[94,50,86,46],[95,10,87,6],[95,14,87,10,"metrics"],[95,21,87,17],[95,24,87,20,"getFrameMetrics"],[95,39,87,35],[95,40,87,36,"idx"],[95,43,87,39],[95,45,87,41,"props"],[95,50,87,46],[95,51,87,47],[96,10,88,6],[96,14,88,10],[96,15,88,11,"metrics"],[96,22,88,18],[96,24,88,20],[97,12,89,8],[98,10,90,6],[99,10,91,6],[99,14,91,10,"top"],[99,17,91,13],[99,20,91,16,"metrics"],[99,27,91,23],[99,28,91,24,"offset"],[99,34,91,30],[99,37,91,33,"scrollOffset"],[99,49,91,45],[100,10,92,6],[100,14,92,10,"bottom"],[100,20,92,16],[100,23,92,19,"top"],[100,26,92,22],[100,29,92,25,"metrics"],[100,36,92,32],[100,37,92,33,"length"],[100,43,92,39],[101,10,93,6],[101,14,93,10,"top"],[101,17,93,13],[101,20,93,16,"viewportHeight"],[101,34,93,30],[101,38,93,34,"bottom"],[101,44,93,40],[101,47,93,43],[101,48,93,44],[101,50,93,46],[102,12,94,8,"firstVisible"],[102,24,94,20],[102,27,94,23,"idx"],[102,30,94,26],[103,12,95,8],[103,16,95,12,"_isViewable"],[103,27,95,23],[103,28,95,24,"viewAreaMode"],[103,40,95,36],[103,42,95,38,"viewablePercentThreshold"],[103,66,95,62],[103,68,95,64,"top"],[103,71,95,67],[103,73,95,69,"bottom"],[103,79,95,75],[103,81,95,77,"viewportHeight"],[103,95,95,91],[103,97,95,93,"metrics"],[103,104,95,100],[103,105,95,101,"length"],[103,111,95,107],[103,112,95,108],[103,114,95,110],[104,14,96,10,"viewableIndices"],[104,29,96,25],[104,30,96,26,"push"],[104,34,96,30],[104,35,96,31,"idx"],[104,38,96,34],[104,39,96,35],[105,12,97,8],[106,10,98,6],[106,11,98,7],[106,17,98,13],[106,21,98,17,"firstVisible"],[106,33,98,29],[106,37,98,33],[106,38,98,34],[106,40,98,36],[107,12,99,8],[108,10,100,6],[109,8,101,4],[110,8,102,4],[110,15,102,11,"viewableIndices"],[110,30,102,26],[111,6,103,2],[113,6,105,2],[114,0,106,0],[115,0,107,0],[116,0,108,0],[117,4,105,2],[118,6,105,2,"key"],[118,9,105,2],[119,6,105,2,"value"],[119,11,105,2],[119,13,109,2],[119,22,109,2,"onUpdate"],[119,30,109,10,"onUpdate"],[119,31,109,11,"props"],[119,36,109,16],[119,38,109,18,"scrollOffset"],[119,50,109,30],[119,52,109,32,"viewportHeight"],[119,66,109,46],[119,68,109,48,"getFrameMetrics"],[119,83,109,63],[119,85,109,65,"createViewToken"],[119,100,109,80],[119,102,109,82,"onViewableItemsChanged"],[119,124,109,104],[120,6,110,2],[121,6,111,2,"renderRange"],[121,17,111,13],[121,19,111,15],[122,8,111,15],[122,12,111,15,"_this"],[122,17,111,15],[123,8,112,4],[123,12,112,8,"itemCount"],[123,21,112,17],[123,24,112,20,"props"],[123,29,112,25],[123,30,112,26,"getItemCount"],[123,42,112,38],[123,43,112,39,"props"],[123,48,112,44],[123,49,112,45,"data"],[123,53,112,49],[123,54,112,50],[124,8,113,4],[124,12,113,8],[124,16,113,12],[124,17,113,13,"_config"],[124,24,113,20],[124,25,113,21,"waitForInteraction"],[124,43,113,39],[124,47,113,43],[124,48,113,44],[124,52,113,48],[124,53,113,49,"_hasInteracted"],[124,67,113,63],[124,71,113,67,"itemCount"],[124,80,113,76],[124,85,113,81],[124,86,113,82],[124,90,113,86],[124,91,113,87,"getFrameMetrics"],[124,106,113,102],[124,107,113,103],[124,108,113,104],[124,110,113,106,"props"],[124,115,113,111],[124,116,113,112],[124,118,113,114],[125,10,114,6],[126,8,115,4],[127,8,116,4],[127,12,116,8,"viewableIndices"],[127,27,116,23],[127,30,116,26],[127,32,116,28],[128,8,117,4],[128,12,117,8,"itemCount"],[128,21,117,17],[128,23,117,19],[129,10,118,6,"viewableIndices"],[129,25,118,21],[129,28,118,24],[129,32,118,28],[129,33,118,29,"computeViewableItems"],[129,53,118,49],[129,54,118,50,"props"],[129,59,118,55],[129,61,118,57,"scrollOffset"],[129,73,118,69],[129,75,118,71,"viewportHeight"],[129,89,118,85],[129,91,118,87,"getFrameMetrics"],[129,106,118,102],[129,108,118,104,"renderRange"],[129,119,118,115],[129,120,118,116],[130,8,119,4],[131,8,120,4],[131,12,120,8],[131,16,120,12],[131,17,120,13,"_viewableIndices"],[131,33,120,29],[131,34,120,30,"length"],[131,40,120,36],[131,45,120,41,"viewableIndices"],[131,60,120,56],[131,61,120,57,"length"],[131,67,120,63],[131,71,120,67],[131,75,120,71],[131,76,120,72,"_viewableIndices"],[131,92,120,88],[131,93,120,89,"every"],[131,98,120,94],[131,99,120,95],[131,109,120,96,"v"],[131,110,120,97],[131,112,120,99,"ii"],[131,114,120,101],[132,10,120,101],[132,17,120,106,"v"],[132,18,120,107],[132,23,120,112,"viewableIndices"],[132,38,120,127],[132,39,120,128,"ii"],[132,41,120,130],[132,42,120,131],[133,8,120,131],[133,10,120,132],[133,12,120,134],[134,10,121,6],[135,10,122,6],[136,10,123,6],[137,8,124,4],[138,8,125,4],[138,12,125,8],[138,13,125,9,"_viewableIndices"],[138,29,125,25],[138,32,125,28,"viewableIndices"],[138,47,125,43],[139,8,126,4],[139,12,126,8],[139,16,126,12],[139,17,126,13,"_config"],[139,24,126,20],[139,25,126,21,"minimumViewTime"],[139,40,126,36],[139,42,126,38],[140,10,127,6],[140,14,127,10,"handle"],[140,20,127,16],[140,23,127,19,"setTimeout"],[140,33,127,29],[140,34,127,30],[140,46,127,36],[141,12,128,8],[142,0,129,0],[143,0,130,0],[144,12,131,8,"_this"],[144,17,131,12],[144,18,131,13,"_timers"],[144,25,131,20],[144,26,131,21,"delete"],[144,32,131,27],[144,33,131,28,"handle"],[144,39,131,34],[144,40,131,35],[145,12,132,8,"_this"],[145,17,132,12],[145,18,132,13,"_onUpdateSync"],[145,31,132,26],[145,32,132,27,"props"],[145,37,132,32],[145,39,132,34,"viewableIndices"],[145,54,132,49],[145,56,132,51,"onViewableItemsChanged"],[145,78,132,73],[145,80,132,75,"createViewToken"],[145,95,132,90],[145,96,132,91],[146,10,133,6],[146,11,133,7],[146,13,133,9],[146,17,133,13],[146,18,133,14,"_config"],[146,25,133,21],[146,26,133,22,"minimumViewTime"],[146,41,133,37],[146,42,133,38],[147,10,134,6],[148,0,135,0],[149,0,136,0],[150,10,137,6],[150,14,137,10],[150,15,137,11,"_timers"],[150,22,137,18],[150,23,137,19,"add"],[150,26,137,22],[150,27,137,23,"handle"],[150,33,137,29],[150,34,137,30],[151,8,138,4],[151,9,138,5],[151,15,138,11],[152,10,139,6],[152,14,139,10],[152,15,139,11,"_onUpdateSync"],[152,28,139,24],[152,29,139,25,"props"],[152,34,139,30],[152,36,139,32,"viewableIndices"],[152,51,139,47],[152,53,139,49,"onViewableItemsChanged"],[152,75,139,71],[152,77,139,73,"createViewToken"],[152,92,139,88],[152,93,139,89],[153,8,140,4],[154,6,141,2],[156,6,143,2],[157,0,144,0],[158,0,145,0],[159,4,143,2],[160,6,143,2,"key"],[160,9,143,2],[161,6,143,2,"value"],[161,11,143,2],[161,13,146,2],[161,22,146,2,"resetViewableIndices"],[161,42,146,22,"resetViewableIndices"],[161,43,146,22],[161,45,146,25],[162,8,147,4],[162,12,147,8],[162,13,147,9,"_viewableIndices"],[162,29,147,25],[162,32,147,28],[162,34,147,30],[163,6,148,2],[165,6,150,2],[166,0,151,0],[167,0,152,0],[168,4,150,2],[169,6,150,2,"key"],[169,9,150,2],[170,6,150,2,"value"],[170,11,150,2],[170,13,153,2],[170,22,153,2,"recordInteraction"],[170,39,153,19,"recordInteraction"],[170,40,153,19],[170,42,153,22],[171,8,154,4],[171,12,154,8],[171,13,154,9,"_hasInteracted"],[171,27,154,23],[171,30,154,26],[171,34,154,30],[172,6,155,2],[173,4,155,3],[174,6,155,3,"key"],[174,9,155,3],[175,6,155,3,"value"],[175,11,155,3],[175,13,156,2],[175,22,156,2,"_onUpdateSync"],[175,35,156,15,"_onUpdateSync"],[175,36,156,16,"props"],[175,41,156,21],[175,43,156,23,"viewableIndicesToCheck"],[175,65,156,45],[175,67,156,47,"onViewableItemsChanged"],[175,89,156,69],[175,91,156,71,"createViewToken"],[175,106,156,86],[175,108,156,88],[176,8,156,88],[176,12,156,88,"_this2"],[176,18,156,88],[177,8,157,4],[178,8,158,4,"viewableIndicesToCheck"],[178,30,158,26],[178,33,158,29,"viewableIndicesToCheck"],[178,55,158,51],[178,56,158,52,"filter"],[178,62,158,58],[178,63,158,59],[178,73,158,59,"ii"],[178,75,158,61],[179,10,158,61],[179,17,158,65,"_this2"],[179,23,158,69],[179,24,158,70,"_viewableIndices"],[179,40,158,86],[179,41,158,87,"includes"],[179,49,158,95],[179,50,158,96,"ii"],[179,52,158,98],[179,53,158,99],[180,8,158,99],[180,10,158,100],[181,8,159,4],[181,12,159,8,"prevItems"],[181,21,159,17],[181,24,159,20],[181,28,159,24],[181,29,159,25,"_viewableItems"],[181,43,159,39],[182,8,160,4],[182,12,160,8,"nextItems"],[182,21,160,17],[182,24,160,20],[182,28,160,24,"Map"],[182,31,160,27],[182,32,160,28,"viewableIndicesToCheck"],[182,54,160,50],[182,55,160,51,"map"],[182,58,160,54],[182,59,160,55],[182,69,160,55,"ii"],[182,71,160,57],[182,73,160,61],[183,10,161,6],[183,14,161,10,"viewable"],[183,22,161,18],[183,25,161,21,"createViewToken"],[183,40,161,36],[183,41,161,37,"ii"],[183,43,161,39],[183,45,161,41],[183,49,161,45],[183,51,161,47,"props"],[183,56,161,52],[183,57,161,53],[184,10,162,6],[184,17,162,13],[184,18,162,14,"viewable"],[184,26,162,22],[184,27,162,23,"key"],[184,30,162,26],[184,32,162,28,"viewable"],[184,40,162,36],[184,41,162,37],[185,8,163,4],[185,9,163,5],[185,10,163,6],[185,11,163,7],[186,8,164,4],[186,12,164,8,"changed"],[186,19,164,15],[186,22,164,18],[186,24,164,20],[187,8,165,4],[187,13,165,9],[187,17,165,13,"_iterator"],[187,26,165,22],[187,29,165,25],[187,30,165,26],[187,31,165,27],[187,33,165,29,"_createForOfIteratorHelperLoose2"],[187,65,165,61],[187,66,165,62,"default"],[187,73,165,69],[187,75,165,71,"nextItems"],[187,84,165,80],[187,85,165,81],[187,87,165,83,"_step"],[187,92,165,88],[187,94,165,90],[187,95,165,91],[187,96,165,92,"_step"],[187,101,165,97],[187,104,165,100,"_iterator"],[187,113,165,109],[187,114,165,110],[187,115,165,111],[187,117,165,113,"done"],[187,121,165,117],[187,124,165,120],[188,10,166,6],[188,14,166,10,"_step$value"],[188,25,166,21],[188,28,166,24,"_step"],[188,33,166,29],[188,34,166,30,"value"],[188,39,166,35],[189,12,167,8,"key"],[189,15,167,11],[189,18,167,14,"_step$value"],[189,29,167,25],[189,30,167,26],[189,31,167,27],[189,32,167,28],[190,12,168,8,"viewable"],[190,20,168,16],[190,23,168,19,"_step$value"],[190,34,168,30],[190,35,168,31],[190,36,168,32],[190,37,168,33],[191,10,169,6],[191,14,169,10],[191,15,169,11,"prevItems"],[191,24,169,20],[191,25,169,21,"has"],[191,28,169,24],[191,29,169,25,"key"],[191,32,169,28],[191,33,169,29],[191,35,169,31],[192,12,170,8,"changed"],[192,19,170,15],[192,20,170,16,"push"],[192,24,170,20],[192,25,170,21,"viewable"],[192,33,170,29],[192,34,170,30],[193,10,171,6],[194,8,172,4],[195,8,173,4],[195,13,173,9],[195,17,173,13,"_iterator2"],[195,27,173,23],[195,30,173,26],[195,31,173,27],[195,32,173,28],[195,34,173,30,"_createForOfIteratorHelperLoose2"],[195,66,173,62],[195,67,173,63,"default"],[195,74,173,70],[195,76,173,72,"prevItems"],[195,85,173,81],[195,86,173,82],[195,88,173,84,"_step2"],[195,94,173,90],[195,96,173,92],[195,97,173,93],[195,98,173,94,"_step2"],[195,104,173,100],[195,107,173,103,"_iterator2"],[195,117,173,113],[195,118,173,114],[195,119,173,115],[195,121,173,117,"done"],[195,125,173,121],[195,128,173,124],[196,10,174,6],[196,14,174,10,"_step2$value"],[196,26,174,22],[196,29,174,25,"_step2"],[196,35,174,31],[196,36,174,32,"value"],[196,41,174,37],[197,12,175,8,"_key"],[197,16,175,12],[197,19,175,15,"_step2$value"],[197,31,175,27],[197,32,175,28],[197,33,175,29],[197,34,175,30],[198,12,176,8,"_viewable"],[198,21,176,17],[198,24,176,20,"_step2$value"],[198,36,176,32],[198,37,176,33],[198,38,176,34],[198,39,176,35],[199,10,177,6],[199,14,177,10],[199,15,177,11,"nextItems"],[199,24,177,20],[199,25,177,21,"has"],[199,28,177,24],[199,29,177,25,"_key"],[199,33,177,29],[199,34,177,30],[199,36,177,32],[200,12,178,8,"changed"],[200,19,178,15],[200,20,178,16,"push"],[200,24,178,20],[200,25,178,21],[200,26,178,22],[200,27,178,23],[200,29,178,25,"_objectSpread2"],[200,43,178,39],[200,44,178,40,"default"],[200,51,178,47],[200,53,178,49],[200,54,178,50],[200,55,178,51],[200,57,178,53,"_objectSpread2"],[200,71,178,67],[200,72,178,68,"default"],[200,79,178,75],[200,81,178,77],[200,82,178,78],[200,83,178,79],[200,85,178,81,"_viewable"],[200,94,178,90],[200,95,178,91],[200,97,178,93],[200,98,178,94],[200,99,178,95],[200,101,178,97],[201,14,179,10,"isViewable"],[201,24,179,20],[201,26,179,22],[202,12,180,8],[202,13,180,9],[202,14,180,10],[202,15,180,11],[203,10,181,6],[204,8,182,4],[205,8,183,4],[205,12,183,8,"changed"],[205,19,183,15],[205,20,183,16,"length"],[205,26,183,22],[205,29,183,25],[205,30,183,26],[205,32,183,28],[206,10,184,6],[206,14,184,10],[206,15,184,11,"_viewableItems"],[206,29,184,25],[206,32,184,28,"nextItems"],[206,41,184,37],[207,10,185,6,"onViewableItemsChanged"],[207,32,185,28],[207,33,185,29],[208,12,186,8,"viewableItems"],[208,25,186,21],[208,27,186,23,"Array"],[208,32,186,28],[208,33,186,29,"from"],[208,37,186,33],[208,38,186,34,"nextItems"],[208,47,186,43],[208,48,186,44,"values"],[208,54,186,50],[208,55,186,51],[208,56,186,52],[208,57,186,53],[209,12,187,8,"changed"],[209,19,187,15],[209,21,187,8,"changed"],[209,28,187,15],[210,12,188,8,"viewabilityConfig"],[210,29,188,25],[210,31,188,27],[210,35,188,31],[210,36,188,32,"_config"],[211,10,189,6],[211,11,189,7],[211,12,189,8],[212,8,190,4],[213,6,191,2],[214,4,191,3],[215,2,191,3],[216,2,193,0],[216,11,193,9,"_isViewable"],[216,22,193,20,"_isViewable"],[216,23,193,21,"viewAreaMode"],[216,35,193,33],[216,37,193,35,"viewablePercentThreshold"],[216,61,193,59],[216,63,193,61,"top"],[216,66,193,64],[216,68,193,66,"bottom"],[216,74,193,72],[216,76,193,74,"viewportHeight"],[216,90,193,88],[216,92,193,90,"itemLength"],[216,102,193,100],[216,104,193,102],[217,4,194,2],[217,8,194,6,"_isEntirelyVisible"],[217,26,194,24],[217,27,194,25,"top"],[217,30,194,28],[217,32,194,30,"bottom"],[217,38,194,36],[217,40,194,38,"viewportHeight"],[217,54,194,52],[217,55,194,53],[217,57,194,55],[218,6,195,4],[218,13,195,11],[218,17,195,15],[219,4,196,2],[219,5,196,3],[219,11,196,9],[220,6,197,4],[220,10,197,8,"pixels"],[220,16,197,14],[220,19,197,17,"_getPixelsVisible"],[220,36,197,34],[220,37,197,35,"top"],[220,40,197,38],[220,42,197,40,"bottom"],[220,48,197,46],[220,50,197,48,"viewportHeight"],[220,64,197,62],[220,65,197,63],[221,6,198,4],[221,10,198,8,"percent"],[221,17,198,15],[221,20,198,18],[221,23,198,21],[221,27,198,25,"viewAreaMode"],[221,39,198,37],[221,42,198,40,"pixels"],[221,48,198,46],[221,51,198,49,"viewportHeight"],[221,65,198,63],[221,68,198,66,"pixels"],[221,74,198,72],[221,77,198,75,"itemLength"],[221,87,198,85],[221,88,198,86],[222,6,199,4],[222,13,199,11,"percent"],[222,20,199,18],[222,24,199,22,"viewablePercentThreshold"],[222,48,199,46],[223,4,200,2],[224,2,201,0],[225,2,202,0],[225,11,202,9,"_getPixelsVisible"],[225,28,202,26,"_getPixelsVisible"],[225,29,202,27,"top"],[225,32,202,30],[225,34,202,32,"bottom"],[225,40,202,38],[225,42,202,40,"viewportHeight"],[225,56,202,54],[225,58,202,56],[226,4,203,2],[226,8,203,6,"visibleHeight"],[226,21,203,19],[226,24,203,22,"Math"],[226,28,203,26],[226,29,203,27,"min"],[226,32,203,30],[226,33,203,31,"bottom"],[226,39,203,37],[226,41,203,39,"viewportHeight"],[226,55,203,53],[226,56,203,54],[226,59,203,57,"Math"],[226,63,203,61],[226,64,203,62,"max"],[226,67,203,65],[226,68,203,66,"top"],[226,71,203,69],[226,73,203,71],[226,74,203,72],[226,75,203,73],[227,4,204,2],[227,11,204,9,"Math"],[227,15,204,13],[227,16,204,14,"max"],[227,19,204,17],[227,20,204,18],[227,21,204,19],[227,23,204,21,"visibleHeight"],[227,36,204,34],[227,37,204,35],[228,2,205,0],[229,2,206,0],[229,11,206,9,"_isEntirelyVisible"],[229,29,206,27,"_isEntirelyVisible"],[229,30,206,28,"top"],[229,33,206,31],[229,35,206,33,"bottom"],[229,41,206,39],[229,43,206,41,"viewportHeight"],[229,57,206,55],[229,59,206,57],[230,4,207,2],[230,11,207,9,"top"],[230,14,207,12],[230,18,207,16],[230,19,207,17],[230,23,207,21,"bottom"],[230,29,207,27],[230,33,207,31,"viewportHeight"],[230,47,207,45],[230,51,207,49,"bottom"],[230,57,207,55],[230,60,207,58,"top"],[230,63,207,61],[231,2,208,0],[232,2,209,0],[232,6,209,4,"_default"],[232,14,209,12],[232,17,209,15,"exports"],[232,24,209,22],[232,25,209,23,"default"],[232,32,209,30],[232,35,209,33,"ViewabilityHelper"],[232,52,209,50],[233,2,210,0,"module"],[233,8,210,6],[233,9,210,7,"exports"],[233,16,210,14],[233,19,210,17,"exports"],[233,26,210,24],[233,27,210,25,"default"],[233,34,210,32],[234,0,210,33],[234,3]],"functionMap":{"names":["<global>","ViewabilityHelper","ViewabilityHelper#constructor","ViewabilityHelper#dispose","ViewabilityHelper#computeViewableItems","ViewabilityHelper#onUpdate","_viewableIndices.every$argument_0","setTimeout$argument_0","ViewabilityHelper#resetViewableIndices","ViewabilityHelper#recordInteraction","ViewabilityHelper#_onUpdateSync","viewableIndicesToCheck.filter$argument_0","viewableIndicesToCheck.map$argument_0","_isViewable","_getPixelsVisible","_isEntirelyVisible"],"mappings":"AAA;AC8B;ECC;GDW;EEK;GFK;EGK;GH6C;EIM;+FCW,oCD;8BEO;OFM;GJQ;EOK;GPE;EQK;GRE;ESC;2DCE,wCD;uDEE;KFG;GT4B;CDC;AaC;CbQ;AcC;CdG;AeC;CfE"},"hasCjsExports":true},"type":"js/module"}]}