{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":29,"index":44},"end":{"line":3,"column":84,"index":99}}],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"fbjs/lib/invariant","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":40,"index":202},"end":{"line":6,"column":69,"index":231}}],"key":"ePiUN85REKH0vTLGPPDgdWgjFww=","exportNames":["*"],"imports":1}},{"name":"./TaskQueue","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":40,"index":274},"end":{"line":7,"column":62,"index":296}}],"key":"JdVwdRfYYIkBEefq5ZvEtZ/aHHY=","exportNames":["*"],"imports":1}},{"name":"../../vendor/react-native/vendor/emitter/EventEmitter","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":43,"index":342},"end":{"line":8,"column":107,"index":406}}],"key":"45Hn6Q29S6VTISk9PcqRWlvos/M=","exportNames":["*"],"imports":1}},{"name":"../../modules/requestIdleCallback","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":50,"index":459},"end":{"line":9,"column":94,"index":503}}],"key":"iSmzHiN+JWRY0i9yUUC6FPGAIjw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\").default;\n  exports.__esModule = true;\n  exports.default = void 0;\n  var _invariant = _interopRequireDefault(require(_dependencyMap[1], \"fbjs/lib/invariant\"));\n  var _TaskQueue = _interopRequireDefault(require(_dependencyMap[2], \"./TaskQueue\"));\n  var _EventEmitter = _interopRequireDefault(require(_dependencyMap[3], \"../../vendor/react-native/vendor/emitter/EventEmitter\"));\n  var _requestIdleCallback = _interopRequireDefault(require(_dependencyMap[4], \"../../modules/requestIdleCallback\"));\n  /**\n   * Copyright (c) Nicolas Gallagher.\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * \n   */\n\n  var _emitter = new _EventEmitter.default();\n  var InteractionManager = {\n    Events: {\n      interactionStart: 'interactionStart',\n      interactionComplete: 'interactionComplete'\n    },\n    /**\n     * Schedule a function to run after all interactions have completed.\n     */\n    runAfterInteractions: function runAfterInteractions(task) {\n      var tasks = [];\n      var promise = new Promise(function (resolve) {\n        _scheduleUpdate();\n        if (task) {\n          tasks.push(task);\n        }\n        tasks.push({\n          run: resolve,\n          name: 'resolve ' + (task && task.name || '?')\n        });\n        _taskQueue.enqueueTasks(tasks);\n      });\n      return {\n        then: promise.then.bind(promise),\n        done: promise.then.bind(promise),\n        cancel: function cancel() {\n          _taskQueue.cancelTasks(tasks);\n        }\n      };\n    },\n    /**\n     * Notify manager that an interaction has started.\n     */\n    createInteractionHandle: function createInteractionHandle() {\n      _scheduleUpdate();\n      var handle = ++_inc;\n      _addInteractionSet.add(handle);\n      return handle;\n    },\n    /**\n     * Notify manager that an interaction has completed.\n     */\n    clearInteractionHandle: function clearInteractionHandle(handle) {\n      (0, _invariant.default)(!!handle, 'Must provide a handle to clear.');\n      _scheduleUpdate();\n      _addInteractionSet.delete(handle);\n      _deleteInteractionSet.add(handle);\n    },\n    addListener: _emitter.addListener.bind(_emitter),\n    /**\n     *\n     * @param deadline\n     */\n    setDeadline: function setDeadline(deadline) {\n      _deadline = deadline;\n    }\n  };\n  var _interactionSet = new Set();\n  var _addInteractionSet = new Set();\n  var _deleteInteractionSet = new Set();\n  var _taskQueue = new _TaskQueue.default({\n    onMoreTasks: _scheduleUpdate\n  });\n  var _nextUpdateHandle = 0;\n  var _inc = 0;\n  var _deadline = -1;\n\n  /**\n   * Schedule an asynchronous update to the interaction state.\n   */\n  function _scheduleUpdate() {\n    if (!_nextUpdateHandle) {\n      if (_deadline > 0) {\n        _nextUpdateHandle = setTimeout(_processUpdate);\n      } else {\n        _nextUpdateHandle = (0, _requestIdleCallback.default)(_processUpdate);\n      }\n    }\n  }\n\n  /**\n   * Notify listeners, process queue, etc\n   */\n  function _processUpdate() {\n    _nextUpdateHandle = 0;\n    var interactionCount = _interactionSet.size;\n    _addInteractionSet.forEach(function (handle) {\n      return _interactionSet.add(handle);\n    });\n    _deleteInteractionSet.forEach(function (handle) {\n      return _interactionSet.delete(handle);\n    });\n    var nextInteractionCount = _interactionSet.size;\n    if (interactionCount !== 0 && nextInteractionCount === 0) {\n      _emitter.emit(InteractionManager.Events.interactionComplete);\n    } else if (interactionCount === 0 && nextInteractionCount !== 0) {\n      _emitter.emit(InteractionManager.Events.interactionStart);\n    }\n    if (nextInteractionCount === 0) {\n      // It seems that we can't know the running time of the current event loop,\n      // we can only calculate the running time of the current task queue.\n      var begin = Date.now();\n      while (_taskQueue.hasTasksToProcess()) {\n        _taskQueue.processNext();\n        if (_deadline > 0 && Date.now() - begin >= _deadline) {\n          _scheduleUpdate();\n          break;\n        }\n      }\n    }\n    _addInteractionSet.clear();\n    _deleteInteractionSet.clear();\n  }\n  var _default = exports.default = InteractionManager;\n  module.exports = exports.default;\n});","lineCount":136,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0],[4,6,3,4,"_interopRequireDefault"],[4,28,3,26],[4,31,3,29,"require"],[4,38,3,36],[4,39,3,36,"_dependencyMap"],[4,53,3,36],[4,104,3,83],[4,105,3,84],[4,106,3,85,"default"],[4,113,3,92],[5,2,4,0,"exports"],[5,9,4,7],[5,10,4,8,"__esModule"],[5,20,4,18],[5,23,4,21],[5,27,4,25],[6,2,5,0,"exports"],[6,9,5,7],[6,10,5,8,"default"],[6,17,5,15],[6,20,5,18],[6,25,5,23],[6,26,5,24],[7,2,6,0],[7,6,6,4,"_invariant"],[7,16,6,14],[7,19,6,17,"_interopRequireDefault"],[7,41,6,39],[7,42,6,40,"require"],[7,49,6,47],[7,50,6,47,"_dependencyMap"],[7,64,6,47],[7,89,6,68],[7,90,6,69],[7,91,6,70],[8,2,7,0],[8,6,7,4,"_TaskQueue"],[8,16,7,14],[8,19,7,17,"_interopRequireDefault"],[8,41,7,39],[8,42,7,40,"require"],[8,49,7,47],[8,50,7,47,"_dependencyMap"],[8,64,7,47],[8,82,7,61],[8,83,7,62],[8,84,7,63],[9,2,8,0],[9,6,8,4,"_EventEmitter"],[9,19,8,17],[9,22,8,20,"_interopRequireDefault"],[9,44,8,42],[9,45,8,43,"require"],[9,52,8,50],[9,53,8,50,"_dependencyMap"],[9,67,8,50],[9,127,8,106],[9,128,8,107],[9,129,8,108],[10,2,9,0],[10,6,9,4,"_requestIdleCallback"],[10,26,9,24],[10,29,9,27,"_interopRequireDefault"],[10,51,9,49],[10,52,9,50,"require"],[10,59,9,57],[10,60,9,57,"_dependencyMap"],[10,74,9,57],[10,114,9,93],[10,115,9,94],[10,116,9,95],[11,2,10,0],[12,0,11,0],[13,0,12,0],[14,0,13,0],[15,0,14,0],[16,0,15,0],[17,0,16,0],[18,0,17,0],[19,0,18,0],[21,2,20,0],[21,6,20,4,"_emitter"],[21,14,20,12],[21,17,20,15],[21,21,20,19,"_EventEmitter"],[21,34,20,32],[21,35,20,33,"default"],[21,42,20,40],[21,43,20,41],[21,44,20,42],[22,2,21,0],[22,6,21,4,"InteractionManager"],[22,24,21,22],[22,27,21,25],[23,4,22,2,"Events"],[23,10,22,8],[23,12,22,10],[24,6,23,4,"interactionStart"],[24,22,23,20],[24,24,23,22],[24,42,23,40],[25,6,24,4,"interactionComplete"],[25,25,24,23],[25,27,24,25],[26,4,25,2],[26,5,25,3],[27,4,26,2],[28,0,27,0],[29,0,28,0],[30,4,29,2,"runAfterInteractions"],[30,24,29,22],[30,35,29,2,"runAfterInteractions"],[30,55,29,22,"runAfterInteractions"],[30,56,29,23,"task"],[30,60,29,27],[30,62,29,29],[31,6,30,4],[31,10,30,8,"tasks"],[31,15,30,13],[31,18,30,16],[31,20,30,18],[32,6,31,4],[32,10,31,8,"promise"],[32,17,31,15],[32,20,31,18],[32,24,31,22,"Promise"],[32,31,31,29],[32,32,31,30],[32,42,31,30,"resolve"],[32,49,31,37],[32,51,31,41],[33,8,32,6,"_scheduleUpdate"],[33,23,32,21],[33,24,32,22],[33,25,32,23],[34,8,33,6],[34,12,33,10,"task"],[34,16,33,14],[34,18,33,16],[35,10,34,8,"tasks"],[35,15,34,13],[35,16,34,14,"push"],[35,20,34,18],[35,21,34,19,"task"],[35,25,34,23],[35,26,34,24],[36,8,35,6],[37,8,36,6,"tasks"],[37,13,36,11],[37,14,36,12,"push"],[37,18,36,16],[37,19,36,17],[38,10,37,8,"run"],[38,13,37,11],[38,15,37,13,"resolve"],[38,22,37,20],[39,10,38,8,"name"],[39,14,38,12],[39,16,38,14],[39,26,38,24],[39,30,38,28,"task"],[39,34,38,32],[39,38,38,36,"task"],[39,42,38,40],[39,43,38,41,"name"],[39,47,38,45],[39,51,38,49],[39,54,38,52],[40,8,39,6],[40,9,39,7],[40,10,39,8],[41,8,40,6,"_taskQueue"],[41,18,40,16],[41,19,40,17,"enqueueTasks"],[41,31,40,29],[41,32,40,30,"tasks"],[41,37,40,35],[41,38,40,36],[42,6,41,4],[42,7,41,5],[42,8,41,6],[43,6,42,4],[43,13,42,11],[44,8,43,6,"then"],[44,12,43,10],[44,14,43,12,"promise"],[44,21,43,19],[44,22,43,20,"then"],[44,26,43,24],[44,27,43,25,"bind"],[44,31,43,29],[44,32,43,30,"promise"],[44,39,43,37],[44,40,43,38],[45,8,44,6,"done"],[45,12,44,10],[45,14,44,12,"promise"],[45,21,44,19],[45,22,44,20,"then"],[45,26,44,24],[45,27,44,25,"bind"],[45,31,44,29],[45,32,44,30,"promise"],[45,39,44,37],[45,40,44,38],[46,8,45,6,"cancel"],[46,14,45,12],[46,16,45,14],[46,25,45,6,"cancel"],[46,31,45,12,"cancel"],[46,32,45,12],[46,34,45,20],[47,10,46,8,"_taskQueue"],[47,20,46,18],[47,21,46,19,"cancelTasks"],[47,32,46,30],[47,33,46,31,"tasks"],[47,38,46,36],[47,39,46,37],[48,8,47,6],[49,6,48,4],[49,7,48,5],[50,4,49,2],[50,5,49,3],[51,4,50,2],[52,0,51,0],[53,0,52,0],[54,4,53,2,"createInteractionHandle"],[54,27,53,25],[54,38,53,2,"createInteractionHandle"],[54,61,53,25,"createInteractionHandle"],[54,62,53,25],[54,64,53,28],[55,6,54,4,"_scheduleUpdate"],[55,21,54,19],[55,22,54,20],[55,23,54,21],[56,6,55,4],[56,10,55,8,"handle"],[56,16,55,14],[56,19,55,17],[56,21,55,19,"_inc"],[56,25,55,23],[57,6,56,4,"_addInteractionSet"],[57,24,56,22],[57,25,56,23,"add"],[57,28,56,26],[57,29,56,27,"handle"],[57,35,56,33],[57,36,56,34],[58,6,57,4],[58,13,57,11,"handle"],[58,19,57,17],[59,4,58,2],[59,5,58,3],[60,4,59,2],[61,0,60,0],[62,0,61,0],[63,4,62,2,"clearInteractionHandle"],[63,26,62,24],[63,37,62,2,"clearInteractionHandle"],[63,59,62,24,"clearInteractionHandle"],[63,60,62,25,"handle"],[63,66,62,31],[63,68,62,33],[64,6,63,4],[64,7,63,5],[64,8,63,6],[64,10,63,8,"_invariant"],[64,20,63,18],[64,21,63,19,"default"],[64,28,63,26],[64,30,63,28],[64,31,63,29],[64,32,63,30,"handle"],[64,38,63,36],[64,40,63,38],[64,73,63,71],[64,74,63,72],[65,6,64,4,"_scheduleUpdate"],[65,21,64,19],[65,22,64,20],[65,23,64,21],[66,6,65,4,"_addInteractionSet"],[66,24,65,22],[66,25,65,23,"delete"],[66,31,65,29],[66,32,65,30,"handle"],[66,38,65,36],[66,39,65,37],[67,6,66,4,"_deleteInteractionSet"],[67,27,66,25],[67,28,66,26,"add"],[67,31,66,29],[67,32,66,30,"handle"],[67,38,66,36],[67,39,66,37],[68,4,67,2],[68,5,67,3],[69,4,68,2,"addListener"],[69,15,68,13],[69,17,68,15,"_emitter"],[69,25,68,23],[69,26,68,24,"addListener"],[69,37,68,35],[69,38,68,36,"bind"],[69,42,68,40],[69,43,68,41,"_emitter"],[69,51,68,49],[69,52,68,50],[70,4,69,2],[71,0,70,0],[72,0,71,0],[73,0,72,0],[74,4,73,2,"setDeadline"],[74,15,73,13],[74,26,73,2,"setDeadline"],[74,37,73,13,"setDeadline"],[74,38,73,14,"deadline"],[74,46,73,22],[74,48,73,24],[75,6,74,4,"_deadline"],[75,15,74,13],[75,18,74,16,"deadline"],[75,26,74,24],[76,4,75,2],[77,2,76,0],[77,3,76,1],[78,2,77,0],[78,6,77,4,"_interactionSet"],[78,21,77,19],[78,24,77,22],[78,28,77,26,"Set"],[78,31,77,29],[78,32,77,30],[78,33,77,31],[79,2,78,0],[79,6,78,4,"_addInteractionSet"],[79,24,78,22],[79,27,78,25],[79,31,78,29,"Set"],[79,34,78,32],[79,35,78,33],[79,36,78,34],[80,2,79,0],[80,6,79,4,"_deleteInteractionSet"],[80,27,79,25],[80,30,79,28],[80,34,79,32,"Set"],[80,37,79,35],[80,38,79,36],[80,39,79,37],[81,2,80,0],[81,6,80,4,"_taskQueue"],[81,16,80,14],[81,19,80,17],[81,23,80,21,"_TaskQueue"],[81,33,80,31],[81,34,80,32,"default"],[81,41,80,39],[81,42,80,40],[82,4,81,2,"onMoreTasks"],[82,15,81,13],[82,17,81,15,"_scheduleUpdate"],[83,2,82,0],[83,3,82,1],[83,4,82,2],[84,2,83,0],[84,6,83,4,"_nextUpdateHandle"],[84,23,83,21],[84,26,83,24],[84,27,83,25],[85,2,84,0],[85,6,84,4,"_inc"],[85,10,84,8],[85,13,84,11],[85,14,84,12],[86,2,85,0],[86,6,85,4,"_deadline"],[86,15,85,13],[86,18,85,16],[86,19,85,17],[86,20,85,18],[88,2,87,0],[89,0,88,0],[90,0,89,0],[91,2,90,0],[91,11,90,9,"_scheduleUpdate"],[91,26,90,24,"_scheduleUpdate"],[91,27,90,24],[91,29,90,27],[92,4,91,2],[92,8,91,6],[92,9,91,7,"_nextUpdateHandle"],[92,26,91,24],[92,28,91,26],[93,6,92,4],[93,10,92,8,"_deadline"],[93,19,92,17],[93,22,92,20],[93,23,92,21],[93,25,92,23],[94,8,93,6,"_nextUpdateHandle"],[94,25,93,23],[94,28,93,26,"setTimeout"],[94,38,93,36],[94,39,93,37,"_processUpdate"],[94,53,93,51],[94,54,93,52],[95,6,94,4],[95,7,94,5],[95,13,94,11],[96,8,95,6,"_nextUpdateHandle"],[96,25,95,23],[96,28,95,26],[96,29,95,27],[96,30,95,28],[96,32,95,30,"_requestIdleCallback"],[96,52,95,50],[96,53,95,51,"default"],[96,60,95,58],[96,62,95,60,"_processUpdate"],[96,76,95,74],[96,77,95,75],[97,6,96,4],[98,4,97,2],[99,2,98,0],[101,2,100,0],[102,0,101,0],[103,0,102,0],[104,2,103,0],[104,11,103,9,"_processUpdate"],[104,25,103,23,"_processUpdate"],[104,26,103,23],[104,28,103,26],[105,4,104,2,"_nextUpdateHandle"],[105,21,104,19],[105,24,104,22],[105,25,104,23],[106,4,105,2],[106,8,105,6,"interactionCount"],[106,24,105,22],[106,27,105,25,"_interactionSet"],[106,42,105,40],[106,43,105,41,"size"],[106,47,105,45],[107,4,106,2,"_addInteractionSet"],[107,22,106,20],[107,23,106,21,"forEach"],[107,30,106,28],[107,31,106,29],[107,41,106,29,"handle"],[107,47,106,35],[108,6,106,35],[108,13,106,39,"_interactionSet"],[108,28,106,54],[108,29,106,55,"add"],[108,32,106,58],[108,33,106,59,"handle"],[108,39,106,65],[108,40,106,66],[109,4,106,66],[109,6,106,67],[110,4,107,2,"_deleteInteractionSet"],[110,25,107,23],[110,26,107,24,"forEach"],[110,33,107,31],[110,34,107,32],[110,44,107,32,"handle"],[110,50,107,38],[111,6,107,38],[111,13,107,42,"_interactionSet"],[111,28,107,57],[111,29,107,58,"delete"],[111,35,107,64],[111,36,107,65,"handle"],[111,42,107,71],[111,43,107,72],[112,4,107,72],[112,6,107,73],[113,4,108,2],[113,8,108,6,"nextInteractionCount"],[113,28,108,26],[113,31,108,29,"_interactionSet"],[113,46,108,44],[113,47,108,45,"size"],[113,51,108,49],[114,4,109,2],[114,8,109,6,"interactionCount"],[114,24,109,22],[114,29,109,27],[114,30,109,28],[114,34,109,32,"nextInteractionCount"],[114,54,109,52],[114,59,109,57],[114,60,109,58],[114,62,109,60],[115,6,110,4,"_emitter"],[115,14,110,12],[115,15,110,13,"emit"],[115,19,110,17],[115,20,110,18,"InteractionManager"],[115,38,110,36],[115,39,110,37,"Events"],[115,45,110,43],[115,46,110,44,"interactionComplete"],[115,65,110,63],[115,66,110,64],[116,4,111,2],[116,5,111,3],[116,11,111,9],[116,15,111,13,"interactionCount"],[116,31,111,29],[116,36,111,34],[116,37,111,35],[116,41,111,39,"nextInteractionCount"],[116,61,111,59],[116,66,111,64],[116,67,111,65],[116,69,111,67],[117,6,112,4,"_emitter"],[117,14,112,12],[117,15,112,13,"emit"],[117,19,112,17],[117,20,112,18,"InteractionManager"],[117,38,112,36],[117,39,112,37,"Events"],[117,45,112,43],[117,46,112,44,"interactionStart"],[117,62,112,60],[117,63,112,61],[118,4,113,2],[119,4,114,2],[119,8,114,6,"nextInteractionCount"],[119,28,114,26],[119,33,114,31],[119,34,114,32],[119,36,114,34],[120,6,115,4],[121,6,116,4],[122,6,117,4],[122,10,117,8,"begin"],[122,15,117,13],[122,18,117,16,"Date"],[122,22,117,20],[122,23,117,21,"now"],[122,26,117,24],[122,27,117,25],[122,28,117,26],[123,6,118,4],[123,13,118,11,"_taskQueue"],[123,23,118,21],[123,24,118,22,"hasTasksToProcess"],[123,41,118,39],[123,42,118,40],[123,43,118,41],[123,45,118,43],[124,8,119,6,"_taskQueue"],[124,18,119,16],[124,19,119,17,"processNext"],[124,30,119,28],[124,31,119,29],[124,32,119,30],[125,8,120,6],[125,12,120,10,"_deadline"],[125,21,120,19],[125,24,120,22],[125,25,120,23],[125,29,120,27,"Date"],[125,33,120,31],[125,34,120,32,"now"],[125,37,120,35],[125,38,120,36],[125,39,120,37],[125,42,120,40,"begin"],[125,47,120,45],[125,51,120,49,"_deadline"],[125,60,120,58],[125,62,120,60],[126,10,121,8,"_scheduleUpdate"],[126,25,121,23],[126,26,121,24],[126,27,121,25],[127,10,122,8],[128,8,123,6],[129,6,124,4],[130,4,125,2],[131,4,126,2,"_addInteractionSet"],[131,22,126,20],[131,23,126,21,"clear"],[131,28,126,26],[131,29,126,27],[131,30,126,28],[132,4,127,2,"_deleteInteractionSet"],[132,25,127,23],[132,26,127,24,"clear"],[132,31,127,29],[132,32,127,30],[132,33,127,31],[133,2,128,0],[134,2,129,0],[134,6,129,4,"_default"],[134,14,129,12],[134,17,129,15,"exports"],[134,24,129,22],[134,25,129,23,"default"],[134,32,129,30],[134,35,129,33,"InteractionManager"],[134,53,129,51],[135,2,130,0,"module"],[135,8,130,6],[135,9,130,7,"exports"],[135,16,130,14],[135,19,130,17,"exports"],[135,26,130,24],[135,27,130,25,"default"],[135,34,130,32],[136,0,130,33],[136,3]],"functionMap":{"names":["<global>","InteractionManager.runAfterInteractions","Promise$argument_0","cancel","InteractionManager.createInteractionHandle","InteractionManager.clearInteractionHandle","InteractionManager.setDeadline","_scheduleUpdate","_processUpdate","_addInteractionSet.forEach$argument_0","_deleteInteractionSet.forEach$argument_0"],"mappings":"AAA;EC4B;8BCE;KDU;cEI;OFE;GDE;EII;GJK;EKI;GLK;EMM;GNE;AOe;CPQ;AQK;6BCG,qCD;gCEC,wCF;CRqB"},"hasCjsExports":true},"type":"js/module"}]}