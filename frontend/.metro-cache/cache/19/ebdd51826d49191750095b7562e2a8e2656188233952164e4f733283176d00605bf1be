{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":13,"column":29,"index":254},"end":{"line":13,"column":84,"index":309}}],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"../../../exports/InteractionManager","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":16,"column":49,"index":421},"end":{"line":16,"column":95,"index":467}}],"key":"YEq8oxgDO+OiwzomPPrXw2nm8a0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  /**\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * @format\n   * \n   */\n\n  'use strict';\n\n  var _classCallCheck = require(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\").default;\n  var _createClass = require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\").default;\n  var _interopRequireDefault = require(_dependencyMap[2], \"@babel/runtime/helpers/interopRequireDefault\").default;\n  exports.__esModule = true;\n  exports.default = void 0;\n  var _InteractionManager = _interopRequireDefault(require(_dependencyMap[3], \"../../../exports/InteractionManager\"));\n  /**\n   * A simple class for batching up invocations of a low-pri callback. A timeout is set to run the\n   * callback once after a delay, no matter how many times it's scheduled. Once the delay is reached,\n   * InteractionManager.runAfterInteractions is used to invoke the callback after any hi-pri\n   * interactions are done running.\n   *\n   * Make sure to cleanup with dispose().  Example:\n   *\n   *   class Widget extends React.Component {\n   *     _batchedSave: new Batchinator(() => this._saveState, 1000);\n   *     _saveSate() {\n   *       // save this.state to disk\n   *     }\n   *     componentDidUpdate() {\n   *       this._batchedSave.schedule();\n   *     }\n   *     componentWillUnmount() {\n   *       this._batchedSave.dispose();\n   *     }\n   *     ...\n   *   }\n   */\n  var Batchinator = /*#__PURE__*/function () {\n    function Batchinator(callback, delayMS) {\n      _classCallCheck(this, Batchinator);\n      this._delay = delayMS;\n      this._callback = callback;\n    }\n    /*\n     * Cleanup any pending tasks.\n     *\n     * By default, if there is a pending task the callback is run immediately. Set the option abort to\n     * true to not call the callback if it was pending.\n     */\n    return _createClass(Batchinator, [{\n      key: \"dispose\",\n      value: function dispose(options) {\n        if (options === void 0) {\n          options = {\n            abort: false\n          };\n        }\n        if (this._taskHandle) {\n          this._taskHandle.cancel();\n          if (!options.abort) {\n            this._callback();\n          }\n          this._taskHandle = null;\n        }\n      }\n    }, {\n      key: \"schedule\",\n      value: function schedule() {\n        var _this = this;\n        if (this._taskHandle) {\n          return;\n        }\n        var timeoutHandle = setTimeout(function () {\n          _this._taskHandle = _InteractionManager.default.runAfterInteractions(function () {\n            // Note that we clear the handle before invoking the callback so that if the callback calls\n            // schedule again, it will actually schedule another task.\n            _this._taskHandle = null;\n            _this._callback();\n          });\n        }, this._delay);\n        this._taskHandle = {\n          cancel: function cancel() {\n            return clearTimeout(timeoutHandle);\n          }\n        };\n      }\n    }]);\n  }();\n  var _default = exports.default = Batchinator;\n  module.exports = exports.default;\n});","lineCount":95,"map":[[2,2,1,0],[3,0,2,0],[4,0,3,0],[5,0,4,0],[6,0,5,0],[7,0,6,0],[8,0,7,0],[9,0,8,0],[10,0,9,0],[12,2,11,0],[12,14,11,12],[14,2,11,13],[14,6,11,13,"_classCallCheck"],[14,21,11,13],[14,24,11,13,"require"],[14,31,11,13],[14,32,11,13,"_dependencyMap"],[14,46,11,13],[14,92,11,13,"default"],[14,99,11,13],[15,2,11,13],[15,6,11,13,"_createClass"],[15,18,11,13],[15,21,11,13,"require"],[15,28,11,13],[15,29,11,13,"_dependencyMap"],[15,43,11,13],[15,86,11,13,"default"],[15,93,11,13],[16,2,13,0],[16,6,13,4,"_interopRequireDefault"],[16,28,13,26],[16,31,13,29,"require"],[16,38,13,36],[16,39,13,36,"_dependencyMap"],[16,53,13,36],[16,104,13,83],[16,105,13,84],[16,106,13,85,"default"],[16,113,13,92],[17,2,14,0,"exports"],[17,9,14,7],[17,10,14,8,"__esModule"],[17,20,14,18],[17,23,14,21],[17,27,14,25],[18,2,15,0,"exports"],[18,9,15,7],[18,10,15,8,"default"],[18,17,15,15],[18,20,15,18],[18,25,15,23],[18,26,15,24],[19,2,16,0],[19,6,16,4,"_InteractionManager"],[19,25,16,23],[19,28,16,26,"_interopRequireDefault"],[19,50,16,48],[19,51,16,49,"require"],[19,58,16,56],[19,59,16,56,"_dependencyMap"],[19,73,16,56],[19,115,16,94],[19,116,16,95],[19,117,16,96],[20,2,17,0],[21,0,18,0],[22,0,19,0],[23,0,20,0],[24,0,21,0],[25,0,22,0],[26,0,23,0],[27,0,24,0],[28,0,25,0],[29,0,26,0],[30,0,27,0],[31,0,28,0],[32,0,29,0],[33,0,30,0],[34,0,31,0],[35,0,32,0],[36,0,33,0],[37,0,34,0],[38,0,35,0],[39,0,36,0],[40,0,37,0],[41,0,38,0],[42,2,17,0],[42,6,39,6,"Batchinator"],[42,17,39,17],[43,4,40,2],[43,13,40,2,"Batchinator"],[43,25,40,14,"callback"],[43,33,40,22],[43,35,40,24,"delayMS"],[43,42,40,31],[43,44,40,33],[44,6,40,33,"_classCallCheck"],[44,21,40,33],[44,28,40,33,"Batchinator"],[44,39,40,33],[45,6,41,4],[45,10,41,8],[45,11,41,9,"_delay"],[45,17,41,15],[45,20,41,18,"delayMS"],[45,27,41,25],[46,6,42,4],[46,10,42,8],[46,11,42,9,"_callback"],[46,20,42,18],[46,23,42,21,"callback"],[46,31,42,29],[47,4,43,2],[48,4,44,2],[49,0,45,0],[50,0,46,0],[51,0,47,0],[52,0,48,0],[53,0,49,0],[54,4,44,2],[54,11,44,2,"_createClass"],[54,23,44,2],[54,24,44,2,"Batchinator"],[54,35,44,2],[55,6,44,2,"key"],[55,9,44,2],[56,6,44,2,"value"],[56,11,44,2],[56,13,50,2],[56,22,50,2,"dispose"],[56,29,50,9,"dispose"],[56,30,50,10,"options"],[56,37,50,17],[56,39,50,19],[57,8,51,4],[57,12,51,8,"options"],[57,19,51,15],[57,24,51,20],[57,29,51,25],[57,30,51,26],[57,32,51,28],[58,10,52,6,"options"],[58,17,52,13],[58,20,52,16],[59,12,53,8,"abort"],[59,17,53,13],[59,19,53,15],[60,10,54,6],[60,11,54,7],[61,8,55,4],[62,8,56,4],[62,12,56,8],[62,16,56,12],[62,17,56,13,"_taskHandle"],[62,28,56,24],[62,30,56,26],[63,10,57,6],[63,14,57,10],[63,15,57,11,"_taskHandle"],[63,26,57,22],[63,27,57,23,"cancel"],[63,33,57,29],[63,34,57,30],[63,35,57,31],[64,10,58,6],[64,14,58,10],[64,15,58,11,"options"],[64,22,58,18],[64,23,58,19,"abort"],[64,28,58,24],[64,30,58,26],[65,12,59,8],[65,16,59,12],[65,17,59,13,"_callback"],[65,26,59,22],[65,27,59,23],[65,28,59,24],[66,10,60,6],[67,10,61,6],[67,14,61,10],[67,15,61,11,"_taskHandle"],[67,26,61,22],[67,29,61,25],[67,33,61,29],[68,8,62,4],[69,6,63,2],[70,4,63,3],[71,6,63,3,"key"],[71,9,63,3],[72,6,63,3,"value"],[72,11,63,3],[72,13,64,2],[72,22,64,2,"schedule"],[72,30,64,10,"schedule"],[72,31,64,10],[72,33,64,13],[73,8,64,13],[73,12,64,13,"_this"],[73,17,64,13],[74,8,65,4],[74,12,65,8],[74,16,65,12],[74,17,65,13,"_taskHandle"],[74,28,65,24],[74,30,65,26],[75,10,66,6],[76,8,67,4],[77,8,68,4],[77,12,68,8,"timeoutHandle"],[77,25,68,21],[77,28,68,24,"setTimeout"],[77,38,68,34],[77,39,68,35],[77,51,68,41],[78,10,69,6,"_this"],[78,15,69,10],[78,16,69,11,"_taskHandle"],[78,27,69,22],[78,30,69,25,"_InteractionManager"],[78,49,69,44],[78,50,69,45,"default"],[78,57,69,52],[78,58,69,53,"runAfterInteractions"],[78,78,69,73],[78,79,69,74],[78,91,69,80],[79,12,70,8],[80,12,71,8],[81,12,72,8,"_this"],[81,17,72,12],[81,18,72,13,"_taskHandle"],[81,29,72,24],[81,32,72,27],[81,36,72,31],[82,12,73,8,"_this"],[82,17,73,12],[82,18,73,13,"_callback"],[82,27,73,22],[82,28,73,23],[82,29,73,24],[83,10,74,6],[83,11,74,7],[83,12,74,8],[84,8,75,4],[84,9,75,5],[84,11,75,7],[84,15,75,11],[84,16,75,12,"_delay"],[84,22,75,18],[84,23,75,19],[85,8,76,4],[85,12,76,8],[85,13,76,9,"_taskHandle"],[85,24,76,20],[85,27,76,23],[86,10,77,6,"cancel"],[86,16,77,12],[86,18,77,14],[86,27,77,6,"cancel"],[86,33,77,12,"cancel"],[86,34,77,12],[87,12,77,12],[87,19,77,20,"clearTimeout"],[87,31,77,32],[87,32,77,33,"timeoutHandle"],[87,45,77,46],[87,46,77,47],[88,10,77,47],[89,8,78,4],[89,9,78,5],[90,6,79,2],[91,4,79,3],[92,2,79,3],[93,2,81,0],[93,6,81,4,"_default"],[93,14,81,12],[93,17,81,15,"exports"],[93,24,81,22],[93,25,81,23,"default"],[93,32,81,30],[93,35,81,33,"Batchinator"],[93,46,81,44],[94,2,82,0,"module"],[94,8,82,6],[94,9,82,7,"exports"],[94,16,82,14],[94,19,82,17,"exports"],[94,26,82,24],[94,27,82,25,"default"],[94,34,82,32],[95,0,82,33],[95,3]],"functionMap":{"names":["<global>","Batchinator","Batchinator#constructor","Batchinator#dispose","Batchinator#schedule","setTimeout$argument_0","_InteractionManager._default.runAfterInteractions$argument_0","_taskHandle.cancel"],"mappings":"AAA;ACsC;ECC;GDG;EEO;GFa;EGC;mCCI;0ECC;ODK;KDC;cGE,iCH;GHE;CDC"},"hasCjsExports":true},"type":"js/module"}]}